const _0x322181=_0xd9a7;(function(_0x58f996,_0x4c37e7){const _0x348aea=_0xd9a7,_0x462d65=_0x58f996();while(!![]){try{const _0x5a4517=-parseInt(_0x348aea(0x1c7))/0x1*(parseInt(_0x348aea(0x158))/0x2)+-parseInt(_0x348aea(0x1a4))/0x3*(-parseInt(_0x348aea(0x179))/0x4)+parseInt(_0x348aea(0x184))/0x5+-parseInt(_0x348aea(0x1c6))/0x6+parseInt(_0x348aea(0x18d))/0x7*(-parseInt(_0x348aea(0x187))/0x8)+parseInt(_0x348aea(0x180))/0x9*(-parseInt(_0x348aea(0x159))/0xa)+parseInt(_0x348aea(0x1d7))/0xb*(parseInt(_0x348aea(0x17d))/0xc);if(_0x5a4517===_0x4c37e7)break;else _0x462d65['push'](_0x462d65['shift']());}catch(_0x397540){_0x462d65['push'](_0x462d65['shift']());}}}(_0x368d,0x47269));let sessionExpiryTime=null,currentSessionInfo={'sessionId':null,'originalCode':null,'isValid':!![],'createdAt':null,'deviceFingerprint':null,'sessionToken':null,'browserId':null},heartbeatInterval=null,monitoringInterval=null,verifyFingerprint=![];const browserInstanceId=_0x322181(0x1a8);let originalCookies=null,cookieMonitoringInterval=null,isSessionClosing=![],sessionPersistenceEnabled=!![],protectedCookies=null,isRestoringCookies=![];const PROTECTED_COOKIES_KEY=_0x322181(0x1c8),SESSION_INFO_KEY='netflix_session_info',PROTECTION_ENABLED_KEY=_0x322181(0x1fe),IDB_NAME=_0x322181(0x1f3),IDB_VERSION=0x1,IDB_STORE_COOKIES=_0x322181(0x1f0),IDB_STORE_SESSION=_0x322181(0x161);let db=null;const ACCESS_FREEDOM_VERSION='10.0';async function initIndexedDB(){return new Promise((_0x31b18e,_0x639731)=>{const _0x51f08e=_0xd9a7,_0x184bdd=indexedDB[_0x51f08e(0x19a)](IDB_NAME,IDB_VERSION);_0x184bdd[_0x51f08e(0x201)]=()=>{const _0x36fa2a=_0x51f08e;_0x639731(_0x184bdd[_0x36fa2a(0x1de)]);},_0x184bdd[_0x51f08e(0x1d2)]=()=>{db=_0x184bdd['result'],_0x31b18e(db);},_0x184bdd[_0x51f08e(0x1a3)]=_0x5d435f=>{const _0x33481c=_0x51f08e,_0x53c2c9=_0x5d435f['target'][_0x33481c(0x196)];if(!_0x53c2c9['objectStoreNames']['contains'](IDB_STORE_COOKIES)){const _0x291319=_0x53c2c9['createObjectStore'](IDB_STORE_COOKIES,{'keyPath':_0x33481c(0x1f9)});_0x291319['createIndex'](_0x33481c(0x19f),_0x33481c(0x19f),{'unique':![]});}if(!_0x53c2c9['objectStoreNames'][_0x33481c(0x1c4)](IDB_STORE_SESSION)){const _0x2d4db2=_0x53c2c9[_0x33481c(0x1c1)](IDB_STORE_SESSION,{'keyPath':_0x33481c(0x17e)});_0x2d4db2[_0x33481c(0x1c9)](_0x33481c(0x19f),_0x33481c(0x19f),{'unique':![]});}};});}async function saveCookiesToIndexedDB(_0xa41f4a){if(!db)await initIndexedDB();return new Promise((_0x11eb01,_0x23be78)=>{const _0x13eca3=_0xd9a7,_0x1ac40f=db[_0x13eca3(0x1e2)]([IDB_STORE_COOKIES],_0x13eca3(0x175)),_0x3f32d6=_0x1ac40f[_0x13eca3(0x1bd)](IDB_STORE_COOKIES),_0x3aaa06=_0x3f32d6[_0x13eca3(0x1ce)]();_0x3aaa06[_0x13eca3(0x1d2)]=()=>{const _0x5b91a0=_0x13eca3;_0xa41f4a[_0x5b91a0(0x1db)](_0x9a4368=>{const _0x438fef=_0x5b91a0;_0x9a4368[_0x438fef(0x19f)]=Date['now'](),_0x3f32d6[_0x438fef(0x17b)](_0x9a4368);}),_0x1ac40f[_0x5b91a0(0x188)]=()=>{_0x11eb01(!![]);},_0x1ac40f[_0x5b91a0(0x201)]=()=>{const _0x522ca0=_0x5b91a0;_0x23be78(_0x1ac40f[_0x522ca0(0x1de)]);};};});}async function loadCookiesFromIndexedDB(){if(!db)await initIndexedDB();return new Promise((_0x4055e2,_0x1ce628)=>{const _0x1d0f27=_0xd9a7,_0x14ec76=db['transaction']([IDB_STORE_COOKIES],_0x1d0f27(0x169)),_0x23a097=_0x14ec76[_0x1d0f27(0x1bd)](IDB_STORE_COOKIES),_0x339aea=_0x23a097[_0x1d0f27(0x1f7)]();_0x339aea[_0x1d0f27(0x1d2)]=()=>{const _0x5297f8=_0x1d0f27,_0x17201e=_0x339aea[_0x5297f8(0x196)];_0x4055e2(_0x17201e);},_0x339aea[_0x1d0f27(0x201)]=()=>{const _0xd8fae1=_0x1d0f27;_0x1ce628(_0x339aea[_0xd8fae1(0x1de)]);};});}async function saveSessionToIndexedDB(_0xf2e8a7){if(!db)await initIndexedDB();return new Promise((_0x13e67a,_0x3e2bed)=>{const _0x590dfa=_0xd9a7,_0x3e5586=db[_0x590dfa(0x1e2)]([IDB_STORE_SESSION],_0x590dfa(0x175)),_0x264e42=_0x3e5586[_0x590dfa(0x1bd)](IDB_STORE_SESSION);_0xf2e8a7['timestamp']=Date[_0x590dfa(0x171)]();const _0x4d6fd2=_0x264e42[_0x590dfa(0x17b)](_0xf2e8a7);_0x4d6fd2[_0x590dfa(0x1d2)]=()=>{_0x13e67a(!![]);},_0x4d6fd2['onerror']=()=>{const _0x2d6fd9=_0x590dfa;_0x3e2bed(_0x4d6fd2[_0x2d6fd9(0x1de)]);};});}async function loadSessionFromIndexedDB(){if(!db)await initIndexedDB();return new Promise((_0x5391b9,_0x4f6553)=>{const _0x587865=_0xd9a7,_0x19e835=db['transaction']([IDB_STORE_SESSION],_0x587865(0x169)),_0x1615ac=_0x19e835[_0x587865(0x1bd)](IDB_STORE_SESSION),_0x3601c5=_0x1615ac[_0x587865(0x1f7)]();_0x3601c5[_0x587865(0x1d2)]=()=>{const _0xad6714=_0x587865,_0x10ece0=_0x3601c5[_0xad6714(0x196)];if(_0x10ece0&&_0x10ece0[_0xad6714(0x16c)]>0x0){const _0x5ae5d5=_0x10ece0[_0xad6714(0x174)]((_0x549616,_0x3d3d52)=>_0x3d3d52[_0xad6714(0x19f)]>_0x549616[_0xad6714(0x19f)]?_0x3d3d52:_0x549616);_0x5391b9(_0x5ae5d5);}else _0x5391b9(null);},_0x3601c5[_0x587865(0x201)]=()=>{const _0x21f9d0=_0x587865;_0x4f6553(_0x3601c5[_0x21f9d0(0x1de)]);};});}function generateBrowserInstanceId(){const _0x52c30b=_0x322181;return _0x52c30b(0x1a8);}function saveSessionExpiry(_0x1dc5f5){const _0x53f062=_0x322181;sessionExpiryTime=_0x1dc5f5,chrome[_0x53f062(0x1a7)]['local'][_0x53f062(0x1b6)]({'sessionExpiryTime':_0x1dc5f5});}function loadSessionExpiry(){return new Promise(_0x3b5cbf=>{const _0x1bfde8=_0xd9a7;chrome[_0x1bfde8(0x1a7)][_0x1bfde8(0x192)][_0x1bfde8(0x1e3)]([_0x1bfde8(0x1b5)],_0x135a44=>{const _0x65d0a2=_0x1bfde8;sessionExpiryTime=_0x135a44[_0x65d0a2(0x1b5)]||null,_0x3b5cbf(sessionExpiryTime);});});}async function saveProtectedCookiesToStorage(_0x5ce21a){const _0x135b19=_0x322181;try{const _0x368efe=_0x5ce21a[_0x135b19(0x1f1)](_0x27d694=>({'name':_0x27d694[_0x135b19(0x1f9)],'value':_0x27d694['value'],'domain':_0x27d694[_0x135b19(0x167)]||_0x135b19(0x193),'path':_0x27d694[_0x135b19(0x1ab)]||'/','secure':_0x27d694['secure']!==![],'httpOnly':_0x27d694['httpOnly']!==![],'expirationDate':_0x27d694[_0x135b19(0x1a5)]||Date['now']()/0x3e8+0x1e13380}));await chrome[_0x135b19(0x1a7)][_0x135b19(0x192)][_0x135b19(0x1b6)]({[PROTECTED_COOKIES_KEY]:_0x368efe,[PROTECTION_ENABLED_KEY]:!![]}),await saveCookiesToIndexedDB(_0x368efe);}catch(_0x548bd5){}}async function loadProtectedCookiesFromStorage(){const _0x55b499=_0x322181;try{const _0x521ddd=await chrome[_0x55b499(0x1a7)][_0x55b499(0x192)]['get']([PROTECTED_COOKIES_KEY,PROTECTION_ENABLED_KEY]);if(_0x521ddd[PROTECTION_ENABLED_KEY]&&_0x521ddd[PROTECTED_COOKIES_KEY])return protectedCookies=_0x521ddd[PROTECTED_COOKIES_KEY],!![];const _0x369c00=await loadCookiesFromIndexedDB();if(_0x369c00&&_0x369c00[_0x55b499(0x16c)]>0x0)return protectedCookies=_0x369c00,await chrome['storage'][_0x55b499(0x192)]['set']({[PROTECTED_COOKIES_KEY]:_0x369c00,[PROTECTION_ENABLED_KEY]:!![]}),!![];return![];}catch(_0x58c93f){return![];}}async function saveSessionInfoToStorage(){const _0x1d6a3e=_0x322181;try{await chrome[_0x1d6a3e(0x1a7)]['local'][_0x1d6a3e(0x1b6)]({[SESSION_INFO_KEY]:currentSessionInfo}),await saveSessionToIndexedDB(currentSessionInfo);}catch(_0x413159){}}async function loadSessionInfoFromStorage(){const _0x46467b=_0x322181;try{const _0x2d7a73=await chrome['storage']['local'][_0x46467b(0x1e3)]([SESSION_INFO_KEY]);if(_0x2d7a73[SESSION_INFO_KEY])return currentSessionInfo=_0x2d7a73[SESSION_INFO_KEY],!![];const _0x2565c0=await loadSessionFromIndexedDB();if(_0x2565c0)return currentSessionInfo=_0x2565c0,await chrome['storage'][_0x46467b(0x192)][_0x46467b(0x1b6)]({[SESSION_INFO_KEY]:_0x2565c0}),!![];return![];}catch(_0x583c95){return![];}}loadSessionExpiry();async function initializePersistentData(){const _0x330c1e=_0x322181;try{await initIndexedDB();const _0xb6343=await loadProtectedCookiesFromStorage(),_0x488228=await loadSessionInfoFromStorage();currentSessionInfo[_0x330c1e(0x17e)]&&(startCookieMonitoring(),startSecurityMonitoring(),currentSessionInfo['sessionId']&&startHeartbeat(currentSessionInfo[_0x330c1e(0x17e)]));}catch(_0x16c937){}}initializePersistentData();function _0x368d(){const _0x276d5c=['result','version','https://www.netflix.com/','aws-priv','open','toString','action','[MODO\x20FORTALEZA]\x20Error\x20en\x20monitoreo\x20de\x20seguridad:','encode','timestamp','onInstalled','url','cause','onupgradeneeded','6MbEfwu','expirationDate','log','storage','UNLIMITED_USERS_ACCESS','session_paste_detected','setSessionToken','path','UNLIMITED_ACCESS','[MODO\x20FORTALEZA]\x20Intento\x20de\x20invalidación\x20ignorado\x20-\x20las\x20sesiones\x20son\x20ilimitadas','sessionPasteDetected','language','stringify','netflix.com','No\x20se\x20permiten\x20códigos\x20de\x20session_paste.\x20La\x20sesión\x20actual\x20ha\x20sido\x20invalidada.','Código\x20inválido\x20o\x20incompatible','remove','sessionExpiryTime','set','value','[MODO\x20FORTALEZA]\x20Cambio\x20detectado\x20en\x20cookie\x20esencial:\x20','removed','nf_session_id_heartbeat','from','onChanged','objectStore','No\x20se\x20pudieron\x20restaurar\x20las\x20cookies','sessionToken','endSession','createObjectStore','join','windows','contains','.\x20Razón:\x20','1265682cBhJrD','3eCFaJB','netflix_protected_cookies','createIndex','securityLog','/activate','reload','deviceFingerprint','clear','flwssnsec','cookie','flwssnha','onsuccess','Secure-3','addListener','lastError','secure','986568lcnsHo','/device','POST','update','forEach','runtime','padStart','error','NetflixId','tabs','ActiveProfile','transaction','get','tabId','Código\x20de\x20sesión\x20inválido:\x20','message','enabled','resolvedOptions','[MODO\x20FORTALEZA]\x20Error\x20general\x20en\x20restauración\x20de\x20cookies:','application/json','isValid','https://api.example.com/session-restore','getCurrent','toggleSessionPersistence','httpOnly','protected_cookies','map','[MODO\x20FORTALEZA]\x20Error\x20en\x20heartbeat:','NetflixProtectionDB','session_paste','netflix_unlimited_fingerprint_123456789','webNavigation','getAll','[MODO\x20FORTALEZA]\x20Sesión\x20inactiva\x20detectada,\x20intentando\x20restaurar...','name','Este\x20código\x20no\x20es\x20para\x20Access\x20Freedom\x20versión\x2010.0','token','cookies','catch','netflix_protection_enabled','/us-es/atv','El\x20fingerprint\x20del\x20dispositivo\x20no\x20coincide\x20con\x20el\x20de\x20la\x20sesión\x20original','onerror','netflix_session_unlimited','startsWith','12662uEBMhX','10okiumB','onStartup','showNotification','Secure-1','[MODO\x20FORTALEZA]\x20Error\x20en\x20monitoreo\x20programado\x20de\x20cookies:','profiles','invalidateSessionOnPaste','pop','session_info','Error\x20al\x20restaurar\x20la\x20sesión:\x20','SecureNetflixId','then','unshift','nf_session_invalidated','domain','subtle','readonly','parse','SHA-256','length','originalCode','create','encryptedData','filter','now','timeZone','[MODO\x20FORTALEZA]\x20Cookies\x20restauradas\x20exitosamente','reduce','readwrite','split','.\x20Removido:\x20','disable','222132OQYdGj','/tv','put','includes','48CPoDHb','sessionId','enable','1867383ELMbKI','nfvdid','userAgent','sendMessage','1549830AlpDtr','https://www.netflix.com','onMessage','3512GoAAsP','oncomplete','El\x20token\x20de\x20sesión\x20no\x20es\x20válido\x20o\x20ha\x20expirado','active','accessKey','heartbeat_','812IGfYAw','flwssnc','getSessionExpiry','restorePermanentSession','digest','local','.netflix.com','Secure-2','query'];_0x368d=function(){return _0x276d5c;};return _0x368d();}async function generateDeviceFingerprint(){const _0x35e26d=_0x322181;try{const _0x57f83b=[_0x35e26d(0x202),navigator[_0x35e26d(0x182)],Intl['DateTimeFormat']()[_0x35e26d(0x1e8)]()[_0x35e26d(0x172)],navigator[_0x35e26d(0x1af)]],_0x4fd1fb=_0x57f83b[_0x35e26d(0x1c2)]('|'),_0x4be7b8=new TextEncoder(),_0x5db8d8=_0x4be7b8[_0x35e26d(0x19e)](_0x4fd1fb),_0x338363=await crypto[_0x35e26d(0x168)][_0x35e26d(0x191)](_0x35e26d(0x16b),_0x5db8d8),_0x2060b4=Array[_0x35e26d(0x1bb)](new Uint8Array(_0x338363));return _0x2060b4[_0x35e26d(0x1f1)](_0x4c404e=>_0x4c404e[_0x35e26d(0x19b)](0x10)[_0x35e26d(0x1dd)](0x2,'0'))[_0x35e26d(0x1c2)]('');}catch(_0x1cbafa){return _0x35e26d(0x1f5);}}function isSessionPasteCode(_0x1863a1){const _0x1a7363=_0x322181;return _0x1863a1[_0x1a7363(0x203)](_0x1a7363(0x1f4));}async function getNetflixCookies(){const _0x38e454=_0x322181;try{return await chrome['cookies'][_0x38e454(0x1f7)]({'domain':'.netflix.com'});}catch(_0x4ff624){return[];}}function compareCookies(_0x47fe28,_0xec4cf6){return![];}const ESSENTIAL_COOKIES=[_0x322181(0x1df),_0x322181(0x163),_0x322181(0x181),'memclid','profiles',_0x322181(0x1e1),'flwssn',_0x322181(0x1cf),_0x322181(0x18e),_0x322181(0x1d1),'bh',_0x322181(0x15c),_0x322181(0x194),_0x322181(0x1d3),'ds',_0x322181(0x199),'aws-mgr',_0x322181(0x1df),'SecureNetflixId',_0x322181(0x181),'memclid',_0x322181(0x15e),'ActiveProfile','flwssn',_0x322181(0x1cf),'flwssnc',_0x322181(0x1d1)];async function restoreProtectedCookies(){const _0x332b01=_0x322181;if(!protectedCookies||isRestoringCookies)return;isRestoringCookies=!![];try{const _0x149f26=await getNetflixCookies();for(const _0xc95c88 of _0x149f26){try{await chrome['cookies'][_0x332b01(0x1b4)]({'url':_0x332b01(0x185),'name':_0xc95c88[_0x332b01(0x1f9)],'domain':_0xc95c88[_0x332b01(0x167)]});}catch(_0x3fc64c){}}await new Promise(_0x27386e=>setTimeout(_0x27386e,0x1f4));for(const _0x5a8c71 of protectedCookies){try{await chrome[_0x332b01(0x1fc)][_0x332b01(0x1b6)]({'url':_0x332b01(0x185),'name':_0x5a8c71['name'],'value':_0x5a8c71[_0x332b01(0x1b7)],'domain':_0x5a8c71[_0x332b01(0x167)]||_0x332b01(0x193),'path':_0x5a8c71[_0x332b01(0x1ab)]||'/','secure':_0x5a8c71[_0x332b01(0x1d6)]!==![],'httpOnly':_0x5a8c71[_0x332b01(0x1ef)]!==![],'expirationDate':_0x5a8c71[_0x332b01(0x1a5)]||Date[_0x332b01(0x171)]()/0x3e8+0x1e13380});}catch(_0x50506a){console[_0x332b01(0x1de)]('Error\x20al\x20restaurar\x20cookie\x20'+_0x5a8c71[_0x332b01(0x1f9)]+':',_0x50506a);}}console['log'](_0x332b01(0x173));}catch(_0x48b34e){console[_0x332b01(0x1de)](_0x332b01(0x1e9),_0x48b34e);}finally{isRestoringCookies=![];}}chrome['cookies'][_0x322181(0x1bc)][_0x322181(0x1d4)](_0x2413ea=>{const _0x47c21d=_0x322181;if(!ESSENTIAL_COOKIES['includes'](_0x2413ea[_0x47c21d(0x1d0)]['name']))return;console[_0x47c21d(0x1a6)](_0x47c21d(0x1b8)+_0x2413ea[_0x47c21d(0x1d0)][_0x47c21d(0x1f9)]+_0x47c21d(0x1c5)+_0x2413ea[_0x47c21d(0x1a2)]+_0x47c21d(0x177)+_0x2413ea[_0x47c21d(0x1b9)]),(_0x2413ea[_0x47c21d(0x1b9)]||_0x2413ea[_0x47c21d(0x1a2)]==='explicit')&&(console[_0x47c21d(0x1a6)]('[MODO\x20FORTALEZA]\x20Iniciando\x20restauración\x20inmediata\x20por\x20cambio\x20explícito\x20o\x20eliminación.'),setTimeout(()=>{restoreProtectedCookies();},0x64));});function startCookieMonitoring(){cookieMonitoringInterval&&clearInterval(cookieMonitoringInterval),cookieMonitoringInterval=setInterval(async()=>{const _0x5e95db=_0xd9a7;try{if(!currentSessionInfo['sessionId']||!currentSessionInfo[_0x5e95db(0x1eb)]||isSessionClosing||isRestoringCookies)return;restoreProtectedCookies();}catch(_0xb3c78d){console[_0x5e95db(0x1de)](_0x5e95db(0x15d),_0xb3c78d);}},0x15f90);}function stopCookieMonitoring(){cookieMonitoringInterval&&(clearInterval(cookieMonitoringInterval),cookieMonitoringInterval=null),originalCookies=null;}function startHeartbeat(_0x1ec425){heartbeatInterval&&clearInterval(heartbeatInterval),heartbeatInterval=setInterval(async()=>{const _0xb0c523=_0xd9a7;try{if(!currentSessionInfo['sessionId']||!currentSessionInfo[_0xb0c523(0x1eb)]||isSessionClosing){clearInterval(heartbeatInterval),heartbeatInterval=null;return;}await chrome[_0xb0c523(0x1a7)][_0xb0c523(0x192)][_0xb0c523(0x1b6)]({[_0xb0c523(0x18c)+_0x1ec425]:Date['now']()});try{await chrome[_0xb0c523(0x1fc)][_0xb0c523(0x1b6)]({'url':_0xb0c523(0x185),'name':_0xb0c523(0x1ba),'value':_0xb0c523(0x1ac),'domain':'.netflix.com','secure':!![],'httpOnly':![],'expirationDate':Date[_0xb0c523(0x171)]()/0x3e8+0x1e13380});}catch(_0x2b6805){}const _0xb30e7f=await chrome[_0xb0c523(0x1a7)][_0xb0c523(0x192)]['get']([_0x1ec425]);(!_0xb30e7f[_0x1ec425]||!_0xb30e7f[_0x1ec425][_0xb0c523(0x18a)])&&(console['log'](_0xb0c523(0x1f8)),await restorePermanentSession(currentSessionInfo[_0xb0c523(0x17e)],'',currentSessionInfo[_0xb0c523(0x16d)]));}catch(_0x4fe38d){console[_0xb0c523(0x1de)](_0xb0c523(0x1f2),_0x4fe38d);}},0x493e0);}function stopHeartbeat(){const _0x3b8dc4=_0x322181;heartbeatInterval&&(clearInterval(heartbeatInterval),heartbeatInterval=null);try{chrome[_0x3b8dc4(0x1fc)][_0x3b8dc4(0x1b4)]({'url':_0x3b8dc4(0x185),'name':_0x3b8dc4(0x1ba)});}catch(_0x1df445){}}function startSecurityMonitoring(){monitoringInterval&&clearInterval(monitoringInterval),monitoringInterval=setInterval(async()=>{const _0x37e551=_0xd9a7;try{if(!currentSessionInfo[_0x37e551(0x17e)]||!currentSessionInfo[_0x37e551(0x1eb)]||isSessionClosing)return;restoreProtectedCookies();}catch(_0x188780){console[_0x37e551(0x1de)](_0x37e551(0x19d),_0x188780);}},0x493e0);}function stopSecurityMonitoring(){monitoringInterval&&(clearInterval(monitoringInterval),monitoringInterval=null);}async function invalidateSession(_0x4d297b){const _0x206cad=_0x322181;return console[_0x206cad(0x1a6)](_0x206cad(0x1ad)),![];}function logSecurityEvent(_0xb3def3,_0x55f5e1={}){chrome['storage']['local']['get'](['securityLog'],_0x192fbc=>{const _0x248310=_0xd9a7,_0xcfa1bf=_0x192fbc[_0x248310(0x1ca)]||[];_0xcfa1bf[_0x248310(0x165)]({'timestamp':Date[_0x248310(0x171)](),'event':_0xb3def3,'details':_0x55f5e1}),_0xcfa1bf[_0x248310(0x16c)]>0x64&&_0xcfa1bf[_0x248310(0x160)](),chrome[_0x248310(0x1a7)][_0x248310(0x192)]['set']({'securityLog':_0xcfa1bf});});}async function invalidateSessionOnPasteAttempt(){const _0x239003=_0x322181;return await invalidateSession(_0x239003(0x1a9));}async function restoreCookies(_0x13da69){const _0x5d0b13=_0x322181;try{const _0x4d157f=JSON[_0x5d0b13(0x16a)](atob(_0x13da69)),_0x26f161=await generateDeviceFingerprint();if(verifyFingerprint&&_0x26f161!==_0x4d157f['deviceFingerprint'])throw new Error(_0x5d0b13(0x200));if(_0x4d157f[_0x5d0b13(0x1bf)]){const _0x3a9a24=await validateSessionToken(_0x4d157f[_0x5d0b13(0x1bf)]);if(!_0x3a9a24)throw new Error(_0x5d0b13(0x189));}saveSessionExpiry(null);const _0x2d8508=_0x4d157f[_0x5d0b13(0x1fc)][_0x5d0b13(0x176)](';\x20');let _0x3bde61=0x0;const _0x12cc74=[_0x5d0b13(0x1df),_0x5d0b13(0x163),_0x5d0b13(0x181)],_0x585e2c=await getNetflixCookies();for(const _0x4ca1f9 of _0x12cc74){try{await chrome[_0x5d0b13(0x1fc)][_0x5d0b13(0x1b4)]({'url':_0x5d0b13(0x185),'name':_0x4ca1f9});}catch(_0x21db98){}}for(const _0x457b04 of _0x2d8508){const [_0x35c1d1,_0x1cc7be]=_0x457b04[_0x5d0b13(0x176)]('=');if(_0x12cc74[_0x5d0b13(0x17c)](_0x35c1d1))try{await chrome[_0x5d0b13(0x1fc)][_0x5d0b13(0x1b6)]({'url':_0x5d0b13(0x185),'name':_0x35c1d1,'value':_0x1cc7be,'domain':_0x5d0b13(0x193),'secure':!![],'httpOnly':!![],'expirationDate':Date[_0x5d0b13(0x171)]()/0x3e8+0x1e13380}),_0x3bde61++;}catch(_0x4e3bf4){}}for(const _0x2944c0 of _0x2d8508){const [_0x1cff3a,_0x5c1faa]=_0x2944c0[_0x5d0b13(0x176)]('=');if(!_0x12cc74['includes'](_0x1cff3a))try{await chrome['cookies']['set']({'url':_0x5d0b13(0x185),'name':_0x1cff3a,'value':_0x5c1faa,'domain':_0x5d0b13(0x193),'secure':!![],'httpOnly':!![],'expirationDate':Date[_0x5d0b13(0x171)]()/0x3e8+0x1e13380}),_0x3bde61++;}catch(_0x3444da){}}const _0x5ebb1e=await getNetflixCookies();return protectedCookies=[..._0x5ebb1e],await saveProtectedCookiesToStorage(protectedCookies),_0x3bde61>0x0;}catch(_0x570a52){throw new Error(_0x5d0b13(0x1e5)+_0x570a52[_0x5d0b13(0x1e6)]);}}async function validateSessionToken(_0x352144){const _0x16070d=_0x322181;try{return _0x352144&&_0x352144[_0x16070d(0x16c)]>0x0;}catch(_0x2b4aae){return![];}}async function restorePermanentSession(_0x53af36,_0x1cab76,_0x332a0a){const _0x2fd405=_0x322181;try{if(isSessionPasteCode(_0x332a0a)){await invalidateSessionOnPasteAttempt();throw new Error(_0x2fd405(0x1b2));}let _0x439cd0;try{_0x439cd0=JSON['parse'](atob(_0x332a0a));}catch(_0x42e30b){throw new Error(_0x2fd405(0x1b3));}if(_0x439cd0[_0x2fd405(0x197)]!==ACCESS_FREEDOM_VERSION)throw new Error('Este\x20código\x20no\x20es\x20para\x20Access\x20Freedom\x20versión\x2010.0');const _0x1c6dd9=await restoreCookies(_0x332a0a);if(!_0x1c6dd9)throw new Error(_0x2fd405(0x1be));currentSessionInfo={'sessionId':_0x53af36,'originalCode':_0x332a0a,'isValid':!![],'createdAt':Date[_0x2fd405(0x171)](),'deviceFingerprint':_0x439cd0[_0x2fd405(0x1cd)],'sessionToken':_0x439cd0[_0x2fd405(0x1bf)],'browserId':browserInstanceId},await chrome[_0x2fd405(0x1a7)][_0x2fd405(0x192)][_0x2fd405(0x1b6)]({['session_'+_0x53af36]:currentSessionInfo}),await saveSessionInfoToStorage(),isSessionClosing=![],originalCookies=await getNetflixCookies(),startHeartbeat(_0x53af36),startSecurityMonitoring(),startCookieMonitoring();const _0x2b2576=await chrome[_0x2fd405(0x1c3)][_0x2fd405(0x1ed)](),_0x438ca2=await chrome[_0x2fd405(0x1e0)][_0x2fd405(0x195)]({'windowId':_0x2b2576['id']}),_0x426ed9=_0x438ca2[_0x2fd405(0x170)](_0x2bda6e=>_0x2bda6e[_0x2fd405(0x1a1)]&&_0x2bda6e['url']['includes']('netflix.com'));if(_0x426ed9['length']>0x0)for(const _0xe12d23 of _0x426ed9){await chrome[_0x2fd405(0x1e0)][_0x2fd405(0x1cc)](_0xe12d23['id']);}else await chrome[_0x2fd405(0x1e0)][_0x2fd405(0x16e)]({'url':'https://www.netflix.com','windowId':_0x2b2576['id'],'active':!![]});try{await fetch(_0x2fd405(0x1ec),{'method':_0x2fd405(0x1d9),'headers':{'Content-Type':_0x2fd405(0x1ea)},'body':JSON[_0x2fd405(0x1b0)]({'sessionId':_0x53af36,'timestamp':Date['now'](),'browserId':browserInstanceId})});}catch(_0x5cfaa8){}return!![];}catch(_0x2f8122){if(_0x2f8122[_0x2fd405(0x1e6)][_0x2fd405(0x17c)](_0x2fd405(0x1fa)))throw _0x2f8122;throw new Error(_0x2fd405(0x162)+_0x2f8122[_0x2fd405(0x1e6)]);}}async function endSessionCompletely(){const _0x2fe1c9=_0x322181;if(isSessionClosing)return![];try{stopHeartbeat(),stopSecurityMonitoring(),stopCookieMonitoring();try{await chrome[_0x2fe1c9(0x1fc)]['remove']({'url':_0x2fe1c9(0x185),'name':_0x2fe1c9(0x166)});}catch(_0x4bb07d){}return setTimeout(()=>{isSessionClosing=![];},0x1388),!![];}catch(_0x390e22){return![];}}function _0xd9a7(_0x1a0b44,_0xa7199d){_0x1a0b44=_0x1a0b44-0x158;const _0x368d60=_0x368d();let _0xd9a73=_0x368d60[_0x1a0b44];return _0xd9a73;}chrome['runtime'][_0x322181(0x186)][_0x322181(0x1d4)]((_0x207b29,_0x132ad0,_0x2478a6)=>{const _0x378e3b=_0x322181;if(_0x207b29[_0x378e3b(0x19c)]===_0x378e3b(0x190))return restorePermanentSession(_0x207b29[_0x378e3b(0x17e)],_0x207b29[_0x378e3b(0x18b)],_0x207b29[_0x378e3b(0x16f)])['then'](()=>{_0x2478a6({'success':!![]});})[_0x378e3b(0x1fd)](_0x463bf8=>{const _0x37bc3a=_0x378e3b;_0x2478a6({'success':![],'error':_0x463bf8[_0x37bc3a(0x1e6)]});}),!![];if(_0x207b29[_0x378e3b(0x19c)]===_0x378e3b(0x18f))return _0x2478a6({'expiryTime':sessionExpiryTime}),!![];if(_0x207b29[_0x378e3b(0x19c)]===_0x378e3b(0x1c0))return endSessionCompletely()[_0x378e3b(0x164)](()=>{_0x2478a6({'success':!![]});})[_0x378e3b(0x1fd)](_0x457e88=>{_0x2478a6({'success':![],'error':_0x457e88['message']});}),!![];if(_0x207b29[_0x378e3b(0x19c)]===_0x378e3b(0x15f))return invalidateSessionOnPasteAttempt()[_0x378e3b(0x164)](_0x14e6c7=>{_0x2478a6({'success':_0x14e6c7});})[_0x378e3b(0x1fd)](_0x42371d=>{const _0x547c26=_0x378e3b;_0x2478a6({'success':![],'error':_0x42371d[_0x547c26(0x1e6)]});}),!![];if(_0x207b29[_0x378e3b(0x19c)]===_0x378e3b(0x1aa))return chrome['storage'][_0x378e3b(0x192)][_0x378e3b(0x1b6)]({'sessionToken':_0x207b29[_0x378e3b(0x1fb)]},()=>{_0x2478a6({'success':!![]});}),!![];if(_0x207b29[_0x378e3b(0x19c)]===_0x378e3b(0x15b))return _0x2478a6({'success':!![]}),!![];if(_0x207b29[_0x378e3b(0x19c)]===_0x378e3b(0x1ae))return invalidateSessionOnPasteAttempt()[_0x378e3b(0x164)](_0x24f93d=>{_0x2478a6({'success':_0x24f93d});})['catch'](_0x111d34=>{const _0x3b68ee=_0x378e3b;_0x2478a6({'success':![],'error':_0x111d34[_0x3b68ee(0x1e6)]});}),!![];if(_0x207b29[_0x378e3b(0x19c)]==='toggleFingerprintVerification')return verifyFingerprint=_0x207b29['enabled'],_0x2478a6({'success':!![]}),!![];if(_0x207b29['action']===_0x378e3b(0x1ee))return sessionPersistenceEnabled=_0x207b29[_0x378e3b(0x1e7)],_0x2478a6({'success':!![]}),!![];if(_0x207b29[_0x378e3b(0x1e6)]===_0x378e3b(0x17f)||_0x207b29[_0x378e3b(0x1e6)]===_0x378e3b(0x178)||_0x207b29[_0x378e3b(0x1e6)]==='debug')return chrome[_0x378e3b(0x1e0)][_0x378e3b(0x195)]({'active':!![],'currentWindow':!![]},function(_0x19ed94){const _0x53211d=_0x378e3b;_0x19ed94[_0x53211d(0x16c)]>0x0&&chrome[_0x53211d(0x1e0)][_0x53211d(0x183)](_0x19ed94[0x0]['id'],{'message':_0x207b29['message']},_0x1f356a=>{const _0x3273ff=_0x53211d;if(chrome[_0x3273ff(0x1dc)][_0x3273ff(0x1d5)]){}});}),_0x2478a6({'success':!![]}),!![];}),chrome[_0x322181(0x1fc)][_0x322181(0x1bc)][_0x322181(0x1d4)](_0x11d5c2=>{const _0x431f48=_0x322181;if(_0x11d5c2[_0x431f48(0x1d0)][_0x431f48(0x167)][_0x431f48(0x17c)](_0x431f48(0x1b1))&&currentSessionInfo[_0x431f48(0x17e)]&&!isRestoringCookies){const _0x5c33c4=['NetflixId',_0x431f48(0x163),_0x431f48(0x181)];if(!_0x5c33c4[_0x431f48(0x17c)](_0x11d5c2[_0x431f48(0x1d0)]['name']))return;(_0x11d5c2[_0x431f48(0x1b9)]||_0x11d5c2[_0x431f48(0x1a2)]==='explicit')&&setTimeout(()=>{restoreProtectedCookies();},0x64);}}),chrome[_0x322181(0x1dc)][_0x322181(0x1a0)][_0x322181(0x1d4)](()=>{const _0x5a5ce2=_0x322181;chrome[_0x5a5ce2(0x1a7)][_0x5a5ce2(0x192)][_0x5a5ce2(0x1b6)]({'sessionPersistenceEnabled':!![]}),initializePersistentData();}),chrome['runtime'][_0x322181(0x15a)][_0x322181(0x1d4)](()=>{initializePersistentData();}),chrome[_0x322181(0x1f6)]['onBeforeNavigate'][_0x322181(0x1d4)](_0x3ece59=>{const _0x141b11=_0x322181,_0x12f43d=_0x3ece59[_0x141b11(0x1a1)];(_0x12f43d[_0x141b11(0x17c)](_0x141b11(0x17a))||_0x12f43d[_0x141b11(0x17c)]('/pair')||_0x12f43d['includes'](_0x141b11(0x1cb))||_0x12f43d['includes'](_0x141b11(0x1d8))||_0x12f43d[_0x141b11(0x17c)](_0x141b11(0x1ff)))&&chrome[_0x141b11(0x1e0)][_0x141b11(0x1da)](_0x3ece59[_0x141b11(0x1e4)],{'url':_0x141b11(0x198)});},{'url':[{'hostContains':_0x322181(0x1b1)}]});