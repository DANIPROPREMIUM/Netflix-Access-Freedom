const _0x485c9d=_0x4ce8;(function(_0x52bf59,_0x22e01c){const _0xb618b7=_0x4ce8,_0x573ddf=_0x52bf59();while(!![]){try{const _0x275605=parseInt(_0xb618b7(0x188))/0x1+-parseInt(_0xb618b7(0x1ff))/0x2*(-parseInt(_0xb618b7(0x161))/0x3)+parseInt(_0xb618b7(0x1d6))/0x4*(-parseInt(_0xb618b7(0x15c))/0x5)+-parseInt(_0xb618b7(0x15d))/0x6*(-parseInt(_0xb618b7(0x1a5))/0x7)+-parseInt(_0xb618b7(0x1df))/0x8+parseInt(_0xb618b7(0x1f1))/0x9+-parseInt(_0xb618b7(0x1c7))/0xa;if(_0x275605===_0x22e01c)break;else _0x573ddf['push'](_0x573ddf['shift']());}catch(_0x10af7c){_0x573ddf['push'](_0x573ddf['shift']());}}}(_0x5da1,0x2b8ff));let sessionExpiryTime=null,currentSessionInfo={'sessionId':null,'originalCode':null,'isValid':!![],'createdAt':null,'deviceFingerprint':null,'sessionToken':null,'browserId':null,'serverValidated':![]},heartbeatInterval=null,monitoringInterval=null,verifyFingerprint=!![];const browserInstanceId=generateBrowserInstanceId();let originalCookies=null,cookieMonitoringInterval=null,globalInvalidationCheckInterval=null,isSessionClosing=![],isBackgroundReady=![];const SERVER_URL=_0x485c9d(0x185);function generateBrowserInstanceId(){const _0x4af955=_0x485c9d;return _0x4af955(0x166)+Math[_0x4af955(0x20f)]()[_0x4af955(0x1fd)](0x24)['substring'](0x2,0xf)+Math[_0x4af955(0x20f)]()[_0x4af955(0x1fd)](0x24)[_0x4af955(0x1a1)](0x2,0xf);}function saveSessionExpiry(_0x4a3cc){const _0xd96a2c=_0x485c9d;sessionExpiryTime=_0x4a3cc,chrome[_0xd96a2c(0x1bc)][_0xd96a2c(0x1cd)][_0xd96a2c(0x1d9)]({'sessionExpiryTime':_0x4a3cc});}function loadSessionExpiry(){return new Promise(_0xf9ed00=>{const _0x5be39f=_0x4ce8;chrome[_0x5be39f(0x1bc)][_0x5be39f(0x1cd)][_0x5be39f(0x1b2)]([_0x5be39f(0x159)],_0x1d9719=>{const _0x2643bf=_0x5be39f;sessionExpiryTime=_0x1d9719[_0x2643bf(0x159)]||null,_0xf9ed00(sessionExpiryTime);});});}async function generateDeviceFingerprint(){const _0x1312eb=_0x485c9d;try{const _0x29ae2d=await chrome[_0x1312eb(0x20a)][_0x1312eb(0x17c)]();let _0x374f65=_0x1312eb(0x158);try{const _0x1a534a=await chrome[_0x1312eb(0x20a)][_0x1312eb(0x1a2)]();_0x374f65=_0x1a534a[_0x1312eb(0x20b)];}catch(_0x5c10b6){console[_0x1312eb(0x1c6)]('No\x20se\x20pudo\x20obtener\x20informaci贸n\x20del\x20navegador');}const _0x47b85f=[_0x374f65,_0x29ae2d['os'],_0x29ae2d[_0x1312eb(0x200)],navigator['platform']],_0x1cbd6a=_0x47b85f[_0x1312eb(0x169)]('|'),_0x292d7d=new TextEncoder(),_0x4cf7ff=_0x292d7d[_0x1312eb(0x193)](_0x1cbd6a),_0x114e54=await crypto[_0x1312eb(0x1a3)]['digest']('SHA-256',_0x4cf7ff),_0x2e3966=Array['from'](new Uint8Array(_0x114e54));return _0x2e3966[_0x1312eb(0x195)](_0x517247=>_0x517247[_0x1312eb(0x1fd)](0x10)[_0x1312eb(0x1f6)](0x2,'0'))[_0x1312eb(0x169)]('');}catch(_0x4ade5c){console['error'](_0x1312eb(0x1a6),_0x4ade5c);const _0x14359d=[navigator[_0x1312eb(0x191)]],_0x3521e0=_0x14359d[_0x1312eb(0x169)]('|'),_0x2c2dcf=new TextEncoder(),_0x35fb2c=_0x2c2dcf[_0x1312eb(0x193)](_0x3521e0),_0x3a025e=await crypto[_0x1312eb(0x1a3)][_0x1312eb(0x1de)]('SHA-256',_0x35fb2c),_0x3da046=Array['from'](new Uint8Array(_0x3a025e));return _0x3da046[_0x1312eb(0x195)](_0x244ef5=>_0x244ef5[_0x1312eb(0x1fd)](0x10)['padStart'](0x2,'0'))[_0x1312eb(0x169)]('');}}function isSessionPasteCode(_0x21113a){const _0x7444d8=_0x485c9d;return _0x21113a[_0x7444d8(0x175)](_0x7444d8(0x1ca));}async function getNetflixCookies(){const _0xaab356=_0x485c9d;try{return await chrome[_0xaab356(0x15b)][_0xaab356(0x1fa)]({'domain':'.netflix.com'});}catch(_0x26c42f){return console[_0xaab356(0x1b1)](_0xaab356(0x173),_0x26c42f),[];}}function compareCookies(_0x3521d8,_0x416d41){const _0x12021f=_0x485c9d;if(!_0x3521d8||!_0x416d41)return![];if(_0x3521d8[_0x12021f(0x160)]!==_0x416d41[_0x12021f(0x160)])return!![];const _0xfcf308=new Map(),_0x3c7c40=new Map();_0x3521d8[_0x12021f(0x1f0)](_0x2cf89f=>{const _0x1a4c5d=_0x12021f;_0xfcf308['set'](_0x2cf89f[_0x1a4c5d(0x20b)],_0x2cf89f[_0x1a4c5d(0x20e)]);}),_0x416d41[_0x12021f(0x1f0)](_0x4bbd53=>{const _0x171d43=_0x12021f;_0x3c7c40['set'](_0x4bbd53[_0x171d43(0x20b)],_0x4bbd53[_0x171d43(0x20e)]);});for(const [_0x2148ba,_0x27bde4]of _0xfcf308){if(_0x3c7c40[_0x12021f(0x1b2)](_0x2148ba)!==_0x27bde4)return!![];}return![];}async function validateSessionWithServer(_0x5a2d6a,_0x1efda5){const _0x43a4d2=_0x485c9d;try{const _0x35af87=await generateDeviceFingerprint();console[_0x43a4d2(0x1c6)]('\x20Validando\x20sesi贸n\x20con\x20el\x20servidor...');const _0x4daa60=await fetch(SERVER_URL+_0x43a4d2(0x1cf),{'method':'POST','headers':{'Content-Type':_0x43a4d2(0x20d)},'body':JSON[_0x43a4d2(0x1be)]({'sessionId':_0x5a2d6a,'accessKey':_0x1efda5,'deviceFingerprint':_0x35af87,'browserId':browserInstanceId})}),_0x1ad7a2=await _0x4daa60[_0x43a4d2(0x165)]();if(_0x1ad7a2[_0x43a4d2(0x17b)])return console[_0x43a4d2(0x1c6)]('\x20Sesi贸n\x20validada\x20correctamente\x20por\x20el\x20servidor'),_0x1ad7a2[_0x43a4d2(0x1e6)];else throw new Error(_0x1ad7a2['error']||'Error\x20de\x20validaci贸n');}catch(_0x5dba38){console['error'](_0x43a4d2(0x18a),_0x5dba38);throw _0x5dba38;}}function startCookieMonitoring(){cookieMonitoringInterval&&clearInterval(cookieMonitoringInterval),cookieMonitoringInterval=setInterval(async()=>{const _0x132e0e=_0x4ce8;try{if(!currentSessionInfo[_0x132e0e(0x1f9)]||!currentSessionInfo[_0x132e0e(0x1ee)]||isSessionClosing)return;const _0x33fdf2=await getNetflixCookies();if(!originalCookies){originalCookies=_0x33fdf2;return;}if(compareCookies(originalCookies,_0x33fdf2)){console[_0x132e0e(0x202)]('锔\x20Detectado\x20cambio\x20en\x20las\x20cookies\x20de\x20Netflix');const _0x2d5fdd=_0x33fdf2[_0x132e0e(0x1e3)](_0x513b09=>_0x513b09[_0x132e0e(0x20b)]===_0x132e0e(0x1b4)&&_0x513b09[_0x132e0e(0x20e)]===browserInstanceId);!_0x2d5fdd&&(console['warn'](_0x132e0e(0x1cc)),await invalidateSession(_0x132e0e(0x178)));}}catch(_0x52f812){console[_0x132e0e(0x1b1)](_0x132e0e(0x187),_0x52f812);}},0x2710);}function stopCookieMonitoring(){cookieMonitoringInterval&&(clearInterval(cookieMonitoringInterval),cookieMonitoringInterval=null),originalCookies=null;}function _0x5da1(){const _0x56816e=['explicit','\x20Restaurando\x20','\x20No\x20se\x20permiten\x20c贸digos\x20de\x20session_paste.\x20La\x20sesi贸n\x20actual\x20ha\x20sido\x20invalidada.','\x20No\x20hay\x20pesta帽as\x20de\x20Netflix\x20en\x20la\x20ventana\x20actual,\x20abriendo\x20una\x20nueva...','active','globalSessionInvalidation','error','get','session_paste_detected','nf_session_id_heartbeat','Error\x20al\x20eliminar\x20cookie\x20de\x20heartbeat:','heartbeat_','invalid_token','message','锔\x20Error\x20al\x20validar\x20con\x20el\x20servidor:','cookie_changed','invalidateSessionOnPaste','storage','sendMessage','stringify','\x20Iniciando\x20restauraci贸n\x20de\x20sesi贸n...','\x20Encontradas\x20','\x20Background\x20script\x20inicializado\x20correctamente','enable','\x20Sesi贸n\x20validada\x20correctamente\x20por\x20el\x20servidor','锔\x20Detectada\x20cookie\x20de\x20invalidaci贸n\x20de\x20sesi贸n','toggleFingerprintVerification','log','1885410AqqHYC','server_validation_failed','debug','session_paste','\x20Encontradas\x20','锔\x20El\x20cambio\x20en\x20cookies\x20no\x20fue\x20generado\x20por\x20esta\x20extensi贸n','local','accessKey','/api/validate-session','storeId','getCurrent','query','showNotification','Acci贸n\x20no\x20reconocida','sessionExpired','8OGKksI','windows','heartbeat_missing','set','\x20Error\x20al\x20inicializar\x20background\x20script:','then','unshift','Fingerprint\x20guardado:','digest','2463336MmvYhc','filter','now','\x20Inicializando\x20Netflix\x20Access\x20Freedom\x20background\x20script...','some','habilitada','pop','encryptedData','锔\x20Token\x20de\x20sesi贸n\x20inv谩lido,\x20invalidando\x20sesi贸n','No\x20se\x20pudieron\x20restaurar\x20las\x20cookies','sessionToken','netflix.com','Error\x20enviando\x20mensaje\x20a\x20pesta帽a:','onChanged','\x20de\x20','isValid','Error\x20al\x20enviar\x20mensaje\x20a\x20pesta帽a:','forEach','2137437lxkkCg','Background\x20script\x20no\x20est谩\x20listo\x20a煤n','\x20Detectado\x20c贸digo\x20de\x20session_paste','remove','C贸digo\x20de\x20sesi贸n\x20inv谩lido:\x20','padStart','forceLogout','Acci贸n\x20no\x20reconocida:','sessionId','getAll','nf_session_invalidated','\x20Cerrando\x20sesi贸n\x20completamente...','toString','url','218MicZeK','arch','\x20La\x20sesi贸n\x20ha\x20expirado','warn','\x20Sesi贸n\x20validada\x20por\x20el\x20servidor,\x20omitiendo\x20verificaci贸n\x20de\x20token','browserId','\x20cookies','\x20Recargando\x20pesta帽a\x20','锔\x20Detectada\x20cookie\x20de\x20invalidaci贸n,\x20cerrando\x20sesi贸n','overwrite','\x20ID\x20de\x20ventana\x20actual:','runtime','name','\x20Sesi贸n\x20cerrada\x20completamente','application/json','value','random','unknown','sessionExpiryTime','parse','cookies','28760icyIPf','66390BVMtTP','removed','create','length','6240KNvFhI','cause','Sesi贸n\x20invalidada:\x20','\x20Error\x20al\x20cerrar\x20sesi贸n:','json','browser_','\x20Error\x20procesando\x20mensaje:','deviceFingerprint','join','onInstalled','onStartup','\x20Error\x20eliminando\x20cookie:','addListener','setSessionToken','锔\x20Invalidando\x20sesi贸n\x20por:\x20','Error\x20al\x20establecer\x20cookie\x20de\x20invalidaci贸n:','domain','getSessionExpiry','Error\x20al\x20obtener\x20cookies\x20de\x20Netflix:','\x20Error\x20decodificando\x20datos\x20de\x20sesi贸n:','startsWith','Error\x20al\x20eliminar\x20cookie\x20de\x20invalidaci贸n:','enabled','cookie_tampering_detected','onMessage','锔\x20Cookie\x20de\x20invalidaci贸n\x20eliminada','success','getPlatformInfo','\x20Sesi贸n\x20restaurada\x20exitosamente','serverValidated','\x20Detectado\x20cambio\x20en\x20cookie\x20de\x20Netflix:','https://www.netflix.com','endSession','.netflix.com','锔\x20Heartbeat\x20no\x20detectado,\x20invalidando\x20sesi贸n','\x20Error\x20al\x20restaurar\x20sesi贸n:','https://netflix-server-l5tv.onrender.com','Fingerprint\x20actual:','\x20Error\x20en\x20monitoreo\x20de\x20cookies:','155790DGnTym','session_invalidated','\x20Error\x20al\x20validar\x20sesi贸n\x20con\x20el\x20servidor:','heartbeat_timeout','catch','\x20Verificaci贸n\x20de\x20fingerprint\x20','cookie','\x20Error\x20en\x20verificaci贸n\x20de\x20invalidaci贸n\x20global:','restorePermanentSession','platform','\x20No\x20se\x20pudo\x20validar\x20la\x20sesi贸n\x20con\x20el\x20servidor.\x20Aseg煤rate\x20de\x20tener\x20la\x20extensi贸n\x20Netflix\x20Session\x20Creator\x20instalada.','encode','securityLog','map','\x20Error\x20en\x20heartbeat:','disable','锔\x20Sesi贸n\x20expirada,\x20invalidando','sessionPasteDetected','tabs','锔\x20Detectada\x20invalidaci贸n\x20global\x20desde\x20otro\x20navegador,\x20cerrando\x20sesi贸n','invalidation_cookie_detected','session_expired','\x20pesta帽as\x20de\x20Netflix\x20en\x20la\x20ventana\x20actual','lastError','Error\x20al\x20establecer\x20cookie\x20de\x20heartbeat:','substring','getBrowserInfo','subtle','split','42QUJPUv','Error\x20generando\x20fingerprint:','\x20Cookies\x20restauradas\x20correctamente','reload','*://*.netflix.com/*','\x20pesta帽as\x20en\x20la\x20ventana\x20actual'];_0x5da1=function(){return _0x56816e;};return _0x5da1();}function startGlobalInvalidationCheck(){globalInvalidationCheckInterval&&clearInterval(globalInvalidationCheckInterval),globalInvalidationCheckInterval=setInterval(async()=>{const _0x21d106=_0x4ce8;try{if(!currentSessionInfo[_0x21d106(0x1f9)]||!currentSessionInfo[_0x21d106(0x1ee)]||isSessionClosing)return;const _0x49ff44=await chrome['storage'][_0x21d106(0x1cd)][_0x21d106(0x1b2)](['globalSessionInvalidation']);if(_0x49ff44[_0x21d106(0x1b0)]&&_0x49ff44[_0x21d106(0x1b0)]['sessionId']===currentSessionInfo[_0x21d106(0x1f9)]&&_0x49ff44[_0x21d106(0x1b0)][_0x21d106(0x204)]!==browserInstanceId){console[_0x21d106(0x202)](_0x21d106(0x19b)),await invalidateSession('global_invalidation_detected');return;}const _0x4b1e40=await chrome['cookies']['get']({'url':_0x21d106(0x180),'name':_0x21d106(0x1fb)});if(_0x4b1e40&&_0x4b1e40['value']===currentSessionInfo[_0x21d106(0x1f9)]){console[_0x21d106(0x202)](_0x21d106(0x207)),await invalidateSession('invalidation_cookie_detected');return;}}catch(_0x11cec5){console[_0x21d106(0x1b1)](_0x21d106(0x18f),_0x11cec5);}},0x1388);}function stopGlobalInvalidationCheck(){globalInvalidationCheckInterval&&(clearInterval(globalInvalidationCheckInterval),globalInvalidationCheckInterval=null);}function startHeartbeat(_0x1423bd){heartbeatInterval&&clearInterval(heartbeatInterval),heartbeatInterval=setInterval(async()=>{const _0x5b6fce=_0x4ce8;try{if(!currentSessionInfo[_0x5b6fce(0x1f9)]||!currentSessionInfo[_0x5b6fce(0x1ee)]||isSessionClosing){clearInterval(heartbeatInterval),heartbeatInterval=null;return;}await chrome['storage'][_0x5b6fce(0x1cd)]['set']({['heartbeat_'+_0x1423bd]:Date['now']()});try{await chrome[_0x5b6fce(0x15b)]['set']({'url':_0x5b6fce(0x180),'name':_0x5b6fce(0x1b4),'value':browserInstanceId,'domain':'.netflix.com','secure':!![],'httpOnly':![],'expirationDate':Date['now']()/0x3e8+0x78});}catch(_0x1542c2){console[_0x5b6fce(0x1b1)](_0x5b6fce(0x1a0),_0x1542c2);}const _0xe1cdb6=await chrome['storage']['local'][_0x5b6fce(0x1b2)]([_0x1423bd]);(!_0xe1cdb6[_0x1423bd]||!_0xe1cdb6[_0x1423bd][_0x5b6fce(0x1af)])&&(clearInterval(heartbeatInterval),heartbeatInterval=null);}catch(_0x51f058){console[_0x5b6fce(0x1b1)](_0x5b6fce(0x196),_0x51f058);}},0x1d4c0);}function stopHeartbeat(){const _0x482008=_0x485c9d;heartbeatInterval&&(clearInterval(heartbeatInterval),heartbeatInterval=null);try{chrome[_0x482008(0x15b)][_0x482008(0x1f4)]({'url':_0x482008(0x180),'name':_0x482008(0x1b4)});}catch(_0x53e020){console['error'](_0x482008(0x1b5),_0x53e020);}}function startSecurityMonitoring(){monitoringInterval&&clearInterval(monitoringInterval),monitoringInterval=setInterval(async()=>{const _0x234294=_0x4ce8;try{if(!currentSessionInfo['sessionId']||!currentSessionInfo['isValid']||isSessionClosing)return;if(verifyFingerprint){const _0xf6ead2=await generateDeviceFingerprint();if(currentSessionInfo[_0x234294(0x168)]!==_0xf6ead2){console[_0x234294(0x202)]('锔\x20Detectado\x20cambio\x20de\x20fingerprint,\x20invalidando\x20sesi贸n'),console[_0x234294(0x1c6)](_0x234294(0x1dd),currentSessionInfo[_0x234294(0x168)]),console['log'](_0x234294(0x186),_0xf6ead2),await invalidateSession('device_fingerprint_changed');return;}}const _0x27a9a0=await chrome[_0x234294(0x1bc)]['local']['get']([_0x234294(0x1e9)]);if(!_0x27a9a0[_0x234294(0x1e9)]||_0x27a9a0[_0x234294(0x1e9)]!==currentSessionInfo['sessionToken']){console[_0x234294(0x202)](_0x234294(0x1e7)),await invalidateSession(_0x234294(0x1b7));return;}if(sessionExpiryTime&&Date[_0x234294(0x1e1)]()>sessionExpiryTime){console[_0x234294(0x202)](_0x234294(0x198)),await invalidateSession(_0x234294(0x19d));return;}const _0x1a4265=await chrome['storage'][_0x234294(0x1cd)][_0x234294(0x1b2)]([_0x234294(0x1b6)+currentSessionInfo[_0x234294(0x1f9)]]);if(!_0x1a4265[_0x234294(0x1b6)+currentSessionInfo['sessionId']]){console['warn'](_0x234294(0x183)),await invalidateSession(_0x234294(0x1d8));return;}const _0x1659ca=_0x1a4265[_0x234294(0x1b6)+currentSessionInfo[_0x234294(0x1f9)]],_0xca297b=Date['now']()-_0x1659ca;if(_0xca297b>0x5*0x3c*0x3e8){console[_0x234294(0x202)]('锔\x20Heartbeat\x20demasiado\x20antiguo,\x20invalidando\x20sesi贸n'),await invalidateSession(_0x234294(0x18b));return;}if(currentSessionInfo[_0x234294(0x17e)]&&Math[_0x234294(0x20f)]()<0.1)try{await validateSessionWithServer(currentSessionInfo[_0x234294(0x1f9)],currentSessionInfo[_0x234294(0x1ce)]);}catch(_0x23b160){console[_0x234294(0x202)](_0x234294(0x1b9),_0x23b160),await invalidateSession(_0x234294(0x1c8));return;}}catch(_0x34c012){console[_0x234294(0x1b1)]('\x20Error\x20en\x20monitoreo\x20de\x20seguridad:',_0x34c012);}},0x7530);}function stopSecurityMonitoring(){monitoringInterval&&(clearInterval(monitoringInterval),monitoringInterval=null);}async function invalidateSession(_0x344f18){const _0x469d03=_0x485c9d;if(currentSessionInfo['sessionId']&&currentSessionInfo[_0x469d03(0x1ee)]&&!isSessionClosing){console[_0x469d03(0x202)](_0x469d03(0x16f)+_0x344f18),isSessionClosing=!![],currentSessionInfo[_0x469d03(0x1ee)]=![],await chrome[_0x469d03(0x1bc)][_0x469d03(0x1cd)][_0x469d03(0x1d9)]({['session_'+currentSessionInfo[_0x469d03(0x1f9)]]:{...currentSessionInfo,'isValid':![],'invalidatedAt':Date[_0x469d03(0x1e1)](),'reason':_0x344f18}});if(_0x344f18===_0x469d03(0x1b3)){await chrome[_0x469d03(0x1bc)][_0x469d03(0x1cd)][_0x469d03(0x1d9)]({'globalSessionInvalidation':{'sessionId':currentSessionInfo[_0x469d03(0x1f9)],'browserId':browserInstanceId,'timestamp':Date[_0x469d03(0x1e1)](),'reason':_0x344f18}});try{await chrome[_0x469d03(0x15b)]['set']({'url':'https://www.netflix.com','name':_0x469d03(0x1fb),'value':currentSessionInfo[_0x469d03(0x1f9)],'domain':'.netflix.com','secure':!![],'httpOnly':![],'expirationDate':Date[_0x469d03(0x1e1)]()/0x3e8+0xe10});}catch(_0x3c3452){console[_0x469d03(0x1b1)](_0x469d03(0x170),_0x3c3452);}const _0x16b31b=await chrome[_0x469d03(0x19a)][_0x469d03(0x1d2)]({'url':'*://*.netflix.com/*'});for(const _0x152efe of _0x16b31b){try{await chrome['tabs'][_0x469d03(0x1bd)](_0x152efe['id'],{'action':_0x469d03(0x1f7)});}catch(_0x473bd5){console[_0x469d03(0x1b1)](_0x469d03(0x1ef),_0x152efe['id'],_0x473bd5);}}}logSecurityEvent(_0x469d03(0x189),{'sessionId':currentSessionInfo[_0x469d03(0x1f9)],'reason':_0x344f18,'timestamp':Date[_0x469d03(0x1e1)]()}),await endSessionCompletely();try{chrome[_0x469d03(0x20a)][_0x469d03(0x1bd)]({'action':_0x469d03(0x1d3),'type':_0x469d03(0x1b1),'message':_0x469d03(0x163)+_0x344f18});}catch(_0x8283cf){console['log']('No\x20se\x20pudo\x20notificar\x20al\x20usuario');}return!![];}return![];}function _0x4ce8(_0xda238,_0x1547b8){const _0x5da1e6=_0x5da1();return _0x4ce8=function(_0x4ce8f0,_0x4a6c46){_0x4ce8f0=_0x4ce8f0-0x158;let _0x212a90=_0x5da1e6[_0x4ce8f0];return _0x212a90;},_0x4ce8(_0xda238,_0x1547b8);}function logSecurityEvent(_0x457aee,_0x4766b0={}){const _0x12f3da=_0x485c9d;chrome[_0x12f3da(0x1bc)][_0x12f3da(0x1cd)][_0x12f3da(0x1b2)](['securityLog'],_0x3ec3d6=>{const _0x2303ae=_0x12f3da,_0x261728=_0x3ec3d6[_0x2303ae(0x194)]||[];_0x261728[_0x2303ae(0x1dc)]({'timestamp':Date['now'](),'event':_0x457aee,'details':_0x4766b0}),_0x261728[_0x2303ae(0x160)]>0x64&&_0x261728[_0x2303ae(0x1e5)](),chrome[_0x2303ae(0x1bc)][_0x2303ae(0x1cd)][_0x2303ae(0x1d9)]({'securityLog':_0x261728});});}async function invalidateSessionOnPasteAttempt(){return await invalidateSession('session_paste_detected');}async function restoreCookies(_0x45c3b3){const _0x4d8238=_0x485c9d;try{console[_0x4d8238(0x1c6)]('\x20Intentando\x20decodificar\x20datos\x20de\x20sesi贸n...');const _0x5995ad=JSON[_0x4d8238(0x15a)](atob(_0x45c3b3));console['log']('\x20Datos\x20de\x20sesi贸n\x20decodificados\x20correctamente'),console[_0x4d8238(0x1c6)](_0x4d8238(0x203));const _0x471dc9=_0x5995ad[_0x4d8238(0x15b)][_0x4d8238(0x1a4)](';\x20');console['log'](_0x4d8238(0x1ac)+_0x471dc9[_0x4d8238(0x160)]+'\x20cookies...');let _0x5f19a7=0x0;for(const _0x4a1768 of _0x471dc9){const [_0x578238,_0x337230]=_0x4a1768[_0x4d8238(0x1a4)]('=');try{await chrome[_0x4d8238(0x15b)][_0x4d8238(0x1d9)]({'url':_0x4d8238(0x180),'name':_0x578238,'value':_0x337230,'domain':_0x4d8238(0x182),'secure':!![],'httpOnly':!![],'path':'/'}),_0x5f19a7++,console[_0x4d8238(0x1c6)]('\x20Cookie\x20restaurada:\x20'+_0x578238);}catch(_0x4eb94c){console[_0x4d8238(0x1b1)]('\x20Error\x20restaurando\x20cookie:',_0x578238,_0x4eb94c);}}return console[_0x4d8238(0x1c6)]('\x20Se\x20restauraron\x20'+_0x5f19a7+_0x4d8238(0x1ed)+_0x471dc9['length']+_0x4d8238(0x205)),_0x5f19a7>0x0;}catch(_0x2aa23b){console[_0x4d8238(0x1b1)](_0x4d8238(0x174),_0x2aa23b);throw new Error(_0x4d8238(0x1f5)+_0x2aa23b['message']);}}async function restorePermanentSession(_0x533eb9,_0x1c8592,_0x43e7b8){const _0x1f7167=_0x485c9d;try{console[_0x1f7167(0x1c6)](_0x1f7167(0x1bf));if(isSessionPasteCode(_0x43e7b8)){console[_0x1f7167(0x1b1)](_0x1f7167(0x1f3)),await invalidateSessionOnPasteAttempt();throw new Error(_0x1f7167(0x1ad));}let _0x407eac;try{_0x407eac=await validateSessionWithServer(_0x533eb9,_0x1c8592),console['log'](_0x1f7167(0x1c3));}catch(_0x7a59d){console[_0x1f7167(0x1b1)]('\x20Error\x20al\x20validar\x20con\x20el\x20servidor:',_0x7a59d);throw new Error(_0x1f7167(0x192));}const _0x3bd25e=await restoreCookies(_0x407eac);if(!_0x3bd25e)throw new Error(_0x1f7167(0x1e8));console['log'](_0x1f7167(0x1a7));const _0x6dccd8=JSON[_0x1f7167(0x15a)](atob(_0x407eac));currentSessionInfo={'sessionId':_0x533eb9,'accessKey':_0x1c8592,'originalCode':_0x43e7b8,'isValid':!![],'createdAt':Date[_0x1f7167(0x1e1)](),'deviceFingerprint':_0x6dccd8[_0x1f7167(0x168)],'sessionToken':_0x6dccd8['sessionToken'],'browserId':browserInstanceId,'serverValidated':!![]},await chrome[_0x1f7167(0x1bc)][_0x1f7167(0x1cd)][_0x1f7167(0x1d9)]({['session_'+_0x533eb9]:currentSessionInfo}),await chrome['storage'][_0x1f7167(0x1cd)][_0x1f7167(0x1f4)]([_0x1f7167(0x1b0)]);try{await chrome[_0x1f7167(0x15b)][_0x1f7167(0x1f4)]({'url':'https://www.netflix.com','name':_0x1f7167(0x1fb)});}catch(_0x4674b4){console[_0x1f7167(0x1b1)](_0x1f7167(0x176),_0x4674b4);}return isSessionClosing=![],originalCookies=await getNetflixCookies(),startHeartbeat(_0x533eb9),startSecurityMonitoring(),startCookieMonitoring(),startGlobalInvalidationCheck(),setTimeout(async()=>{const _0x336d69=_0x1f7167,_0x11536f=await chrome[_0x336d69(0x1d7)][_0x336d69(0x1d1)]();console[_0x336d69(0x1c6)](_0x336d69(0x209),_0x11536f['id']);const _0x1cee1b=await chrome[_0x336d69(0x19a)][_0x336d69(0x1d2)]({'windowId':_0x11536f['id']});console[_0x336d69(0x1c6)](_0x336d69(0x1cb)+_0x1cee1b[_0x336d69(0x160)]+_0x336d69(0x1aa));const _0x432fda=_0x1cee1b[_0x336d69(0x1e0)](_0x1b91f8=>_0x1b91f8['url']&&_0x1b91f8['url']['includes'](_0x336d69(0x1ea)));console[_0x336d69(0x1c6)](_0x336d69(0x1c0)+_0x432fda['length']+_0x336d69(0x19e));if(_0x432fda['length']>0x0)for(const _0x41ea21 of _0x432fda){console[_0x336d69(0x1c6)](_0x336d69(0x206)+_0x41ea21['id']+':\x20'+_0x41ea21[_0x336d69(0x1fe)]),await chrome['tabs'][_0x336d69(0x1a8)](_0x41ea21['id']);}else console['log'](_0x336d69(0x1ae)),await chrome[_0x336d69(0x19a)][_0x336d69(0x15f)]({'url':_0x336d69(0x180),'windowId':_0x11536f['id'],'active':!![]});},0x7d0),!![];}catch(_0x3b1a06){console[_0x1f7167(0x1b1)]('\x20Error\x20en\x20restauraci贸n:',_0x3b1a06);throw new Error('Error\x20al\x20restaurar\x20la\x20sesi贸n:\x20'+_0x3b1a06[_0x1f7167(0x1b8)]);}}async function endSessionCompletely(){const _0x48403c=_0x485c9d;if(isSessionClosing)return console[_0x48403c(0x1c6)]('\x20La\x20sesi贸n\x20ya\x20est谩\x20en\x20proceso\x20de\x20cierre,\x20evitando\x20bucle'),![];try{console[_0x48403c(0x1c6)](_0x48403c(0x1fc)),stopHeartbeat(),stopSecurityMonitoring(),stopCookieMonitoring(),stopGlobalInvalidationCheck();const _0x4d2c0d=await chrome['cookies'][_0x48403c(0x1fa)]({'domain':'.netflix.com'});for(const _0x46a219 of _0x4d2c0d){try{await chrome['cookies'][_0x48403c(0x1f4)]({'url':_0x48403c(0x180),'name':_0x46a219['name'],'storeId':_0x46a219[_0x48403c(0x1d0)]}),console[_0x48403c(0x1c6)]('锔\x20Cookie\x20eliminada:\x20'+_0x46a219[_0x48403c(0x20b)]);}catch(_0x14139f){console[_0x48403c(0x1b1)](_0x48403c(0x16c),_0x46a219[_0x48403c(0x20b)],_0x14139f);}}try{await chrome[_0x48403c(0x15b)][_0x48403c(0x1f4)]({'url':'https://www.netflix.com','name':_0x48403c(0x1fb)}),console[_0x48403c(0x1c6)](_0x48403c(0x17a));}catch(_0x982b4d){console[_0x48403c(0x1b1)](_0x48403c(0x176),_0x982b4d);}chrome['storage'][_0x48403c(0x1cd)][_0x48403c(0x1f4)]([_0x48403c(0x159),'sessionToken']);const _0x43b410=await chrome[_0x48403c(0x19a)][_0x48403c(0x1d2)]({'url':_0x48403c(0x1a9)});for(const _0x18ac97 of _0x43b410){try{await chrome[_0x48403c(0x19a)][_0x48403c(0x1bd)](_0x18ac97['id'],{'action':_0x48403c(0x1d5)}),await chrome[_0x48403c(0x19a)][_0x48403c(0x1a8)](_0x18ac97['id']);}catch(_0x5652c3){console[_0x48403c(0x1b1)]('Error\x20notificando\x20a\x20pesta帽a:',_0x18ac97['id'],_0x5652c3);}}return console['log'](_0x48403c(0x20c)),setTimeout(()=>{isSessionClosing=![];},0x1388),!![];}catch(_0x5a260a){return console['error'](_0x48403c(0x164),_0x5a260a),![];}}setInterval(async()=>{const _0x3899dd=_0x485c9d;if(sessionExpiryTime&&Date[_0x3899dd(0x1e1)]()>sessionExpiryTime&&!isSessionClosing){console[_0x3899dd(0x1c6)](_0x3899dd(0x201)),saveSessionExpiry(null),await endSessionCompletely();try{chrome[_0x3899dd(0x20a)]['sendMessage']({'action':'sessionExpired'});}catch(_0x6cf2a5){console[_0x3899dd(0x1c6)]('No\x20se\x20pudo\x20notificar\x20al\x20popup');}}},0x7530);function safeSendMessage(_0x1aab71,_0x2d3f96,_0x46eb8b){const _0x4832f1=_0x485c9d;try{chrome['tabs'][_0x4832f1(0x1bd)](_0x1aab71,_0x2d3f96,_0x156194=>{const _0x7d74d3=_0x4832f1;if(chrome[_0x7d74d3(0x20a)][_0x7d74d3(0x19f)]){console['log'](_0x7d74d3(0x1eb),chrome['runtime']['lastError'][_0x7d74d3(0x1b8)]);if(_0x46eb8b)_0x46eb8b(null);return;}if(_0x46eb8b)_0x46eb8b(_0x156194);});}catch(_0x392c7c){console['error']('Error\x20al\x20enviar\x20mensaje:',_0x392c7c);if(_0x46eb8b)_0x46eb8b(null);}}chrome[_0x485c9d(0x20a)][_0x485c9d(0x179)][_0x485c9d(0x16d)]((_0x50438a,_0x53f1d2,_0x1b02f6)=>{const _0x554cc8=_0x485c9d;if(!isBackgroundReady)return console['log'](_0x554cc8(0x1f2)),![];try{console[_0x554cc8(0x1c6)]('\x20Mensaje\x20recibido:',_0x50438a['action']);switch(_0x50438a['action']){case _0x554cc8(0x190):restorePermanentSession(_0x50438a['sessionId'],_0x50438a['accessKey'],_0x50438a['encryptedData'])['then'](()=>{const _0x52a4e5=_0x554cc8;console[_0x52a4e5(0x1c6)](_0x52a4e5(0x17d)),_0x1b02f6({'success':!![]});})[_0x554cc8(0x18c)](_0x2c2f37=>{const _0xc8d13e=_0x554cc8;console['error'](_0xc8d13e(0x184),_0x2c2f37),_0x1b02f6({'success':![],'error':_0x2c2f37[_0xc8d13e(0x1b8)]});});return!![];case _0x554cc8(0x172):_0x1b02f6({'expiryTime':sessionExpiryTime});return!![];case _0x554cc8(0x181):endSessionCompletely()[_0x554cc8(0x1db)](()=>{_0x1b02f6({'success':!![]});})[_0x554cc8(0x18c)](_0x476171=>{const _0x5a0301=_0x554cc8;_0x1b02f6({'success':![],'error':_0x476171[_0x5a0301(0x1b8)]});});return!![];case _0x554cc8(0x1bb):invalidateSessionOnPasteAttempt()[_0x554cc8(0x1db)](_0x4254d9=>{_0x1b02f6({'success':_0x4254d9});})[_0x554cc8(0x18c)](_0x3aa0f2=>{const _0x397b34=_0x554cc8;_0x1b02f6({'success':![],'error':_0x3aa0f2[_0x397b34(0x1b8)]});});return!![];case _0x554cc8(0x16e):chrome[_0x554cc8(0x1bc)]['local'][_0x554cc8(0x1d9)]({'sessionToken':_0x50438a['token']},()=>{_0x1b02f6({'success':!![]});});return!![];case _0x554cc8(0x1d3):_0x1b02f6({'success':!![]});return!![];case _0x554cc8(0x199):console['log']('锔\x20Detectado\x20intento\x20de\x20session_paste\x20en\x20content\x20script'),invalidateSessionOnPasteAttempt()[_0x554cc8(0x1db)](_0xc8eee8=>{_0x1b02f6({'success':_0xc8eee8});})['catch'](_0x589d97=>{const _0x5b1394=_0x554cc8;_0x1b02f6({'success':![],'error':_0x589d97[_0x5b1394(0x1b8)]});});return!![];case _0x554cc8(0x1c5):verifyFingerprint=_0x50438a[_0x554cc8(0x177)],console[_0x554cc8(0x1c6)](_0x554cc8(0x18d)+(verifyFingerprint?_0x554cc8(0x1e4):'deshabilitada')),_0x1b02f6({'success':!![]});return!![];case'getSessionInfo':_0x1b02f6({'isPermanent':currentSessionInfo[_0x554cc8(0x1f9)]&&currentSessionInfo[_0x554cc8(0x1ee)],'sessionId':currentSessionInfo['sessionId']});return!![];case _0x554cc8(0x1c2):case _0x554cc8(0x197):case _0x554cc8(0x1c9):chrome['tabs'][_0x554cc8(0x1d2)]({'active':!![],'currentWindow':!![]},function(_0x58e69a){const _0x5ff4aa=_0x554cc8;_0x58e69a[0x0]&&safeSendMessage(_0x58e69a[0x0]['id'],{'message':_0x50438a[_0x5ff4aa(0x1b8)]});}),_0x1b02f6({'success':!![]});return!![];default:console['log'](_0x554cc8(0x1f8),_0x50438a['action']),_0x1b02f6({'success':![],'error':_0x554cc8(0x1d4)});return!![];}}catch(_0x3df55f){return console['error'](_0x554cc8(0x167),_0x3df55f),_0x1b02f6({'success':![],'error':_0x3df55f['message']}),!![];}}),chrome['cookies'][_0x485c9d(0x1ec)]['addListener'](_0x4f82e7=>{const _0x17cbc4=_0x485c9d;if(_0x4f82e7['cookie'][_0x17cbc4(0x171)]&&_0x4f82e7['cookie'][_0x17cbc4(0x171)]['includes']('netflix.com')){if(!_0x4f82e7[_0x17cbc4(0x162)]&&_0x4f82e7['removed']&&_0x4f82e7[_0x17cbc4(0x18e)]['name']===_0x17cbc4(0x1fb))return;if((_0x4f82e7[_0x17cbc4(0x162)]===_0x17cbc4(0x1ab)||_0x4f82e7[_0x17cbc4(0x162)]===_0x17cbc4(0x208))&&_0x4f82e7['cookie']['name']===_0x17cbc4(0x1fb)){console[_0x17cbc4(0x202)](_0x17cbc4(0x1c4));!isSessionClosing&&invalidateSession(_0x17cbc4(0x19c));return;}if(currentSessionInfo[_0x17cbc4(0x1f9)]&&currentSessionInfo['isValid']&&!isSessionClosing){console[_0x17cbc4(0x1c6)](_0x17cbc4(0x17f),_0x4f82e7[_0x17cbc4(0x18e)][_0x17cbc4(0x20b)]);if(_0x4f82e7[_0x17cbc4(0x18e)]['name']===_0x17cbc4(0x1b4)&&_0x4f82e7[_0x17cbc4(0x18e)][_0x17cbc4(0x20e)]===browserInstanceId)return;logSecurityEvent(_0x17cbc4(0x1ba),{'cookieName':_0x4f82e7[_0x17cbc4(0x18e)][_0x17cbc4(0x20b)],'cause':_0x4f82e7[_0x17cbc4(0x162)],'removed':_0x4f82e7[_0x17cbc4(0x15e)]});}}});async function initializeBackground(){const _0x4e45cb=_0x485c9d;try{console[_0x4e45cb(0x1c6)](_0x4e45cb(0x1e2)),await loadSessionExpiry(),isBackgroundReady=!![],console[_0x4e45cb(0x1c6)](_0x4e45cb(0x1c1));}catch(_0x3fa4dd){console['error'](_0x4e45cb(0x1da),_0x3fa4dd);}}chrome['runtime'][_0x485c9d(0x16a)]['addListener'](()=>{const _0x387b0f=_0x485c9d;console[_0x387b0f(0x1c6)]('\x20Netflix\x20Access\x20Freedom\x20installed'),initializeBackground();}),chrome[_0x485c9d(0x20a)][_0x485c9d(0x16b)][_0x485c9d(0x16d)](()=>{console['log']('\x20Netflix\x20Access\x20Freedom\x20startup'),initializeBackground();}),initializeBackground();