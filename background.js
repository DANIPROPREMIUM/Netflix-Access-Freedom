const _0x498a4=_0x9fcb;(function(_0x427d5e,_0x3b7d3a){const _0x43dd91=_0x9fcb,_0x5a5cc5=_0x427d5e();while(!![]){try{const _0xb09f40=parseInt(_0x43dd91(0x19e))/0x1+-parseInt(_0x43dd91(0x183))/0x2*(parseInt(_0x43dd91(0x1fa))/0x3)+-parseInt(_0x43dd91(0x1b8))/0x4*(parseInt(_0x43dd91(0x1ec))/0x5)+parseInt(_0x43dd91(0x176))/0x6*(parseInt(_0x43dd91(0x17b))/0x7)+-parseInt(_0x43dd91(0x175))/0x8*(-parseInt(_0x43dd91(0x17a))/0x9)+-parseInt(_0x43dd91(0x199))/0xa+parseInt(_0x43dd91(0x16d))/0xb*(-parseInt(_0x43dd91(0x172))/0xc);if(_0xb09f40===_0x3b7d3a)break;else _0x5a5cc5['push'](_0x5a5cc5['shift']());}catch(_0x51825e){_0x5a5cc5['push'](_0x5a5cc5['shift']());}}}(_0x2def,0x66170));let sessionExpiryTime=null,currentSessionInfo={'sessionId':null,'originalCode':null,'isValid':!![],'createdAt':null,'deviceFingerprint':null,'sessionToken':null,'browserId':null},heartbeatInterval=null,monitoringInterval=null,verifyFingerprint=!![];function _0x9fcb(_0x2eac37,_0x2eaffc){const _0x2defa9=_0x2def();return _0x9fcb=function(_0x9fcbc8,_0x527489){_0x9fcbc8=_0x9fcbc8-0x168;let _0x5dfef0=_0x2defa9[_0x9fcbc8];return _0x5dfef0;},_0x9fcb(_0x2eac37,_0x2eaffc);}const browserInstanceId=generateBrowserInstanceId();let originalCookies=null,cookieMonitoringInterval=null,globalInvalidationCheckInterval=null,isSessionClosing=![];function generateBrowserInstanceId(){const _0x305435=_0x9fcb;return'browser_'+Math[_0x305435(0x1df)]()[_0x305435(0x1b7)](0x24)[_0x305435(0x1fd)](0x2,0xf)+Math['random']()[_0x305435(0x1b7)](0x24)['substring'](0x2,0xf);}function saveSessionExpiry(_0xca8fdf){const _0xbef0fe=_0x9fcb;sessionExpiryTime=_0xca8fdf,chrome[_0xbef0fe(0x1a4)][_0xbef0fe(0x182)][_0xbef0fe(0x1cf)]({'sessionExpiryTime':_0xca8fdf});}function loadSessionExpiry(){return new Promise(_0xf82442=>{const _0x413145=_0x9fcb;chrome['storage'][_0x413145(0x182)][_0x413145(0x1e6)]([_0x413145(0x19c)],_0x6f31c4=>{const _0x1ca2b2=_0x413145;sessionExpiryTime=_0x6f31c4[_0x1ca2b2(0x19c)]||null,_0xf82442(sessionExpiryTime);});});}loadSessionExpiry();async function generateDeviceFingerprint(){const _0x36f757=_0x9fcb;try{const _0xb68d1a=await chrome[_0x36f757(0x1d0)][_0x36f757(0x168)]();let _0x1ba797='unknown';try{const _0x44cb4a=await chrome[_0x36f757(0x1d0)][_0x36f757(0x1bc)]();_0x1ba797=_0x44cb4a['name'];}catch(_0x4ae298){console[_0x36f757(0x1af)]('No\x20se\x20pudo\x20obtener\x20información\x20del\x20navegador,\x20usando\x20valores\x20predeterminados');}const _0x4466fa=[_0x1ba797,_0xb68d1a['os'],_0xb68d1a['arch'],navigator[_0x36f757(0x177)]],_0x1774b0=_0x4466fa['join']('|'),_0x5a7d23=new TextEncoder(),_0x117014=_0x5a7d23[_0x36f757(0x17c)](_0x1774b0),_0x35a9b2=await crypto[_0x36f757(0x1f9)][_0x36f757(0x19a)](_0x36f757(0x1e4),_0x117014),_0x4687d0=Array[_0x36f757(0x19b)](new Uint8Array(_0x35a9b2));return _0x4687d0[_0x36f757(0x1d4)](_0x1a6010=>_0x1a6010[_0x36f757(0x1b7)](0x10)[_0x36f757(0x1ee)](0x2,'0'))[_0x36f757(0x1dd)]('');}catch(_0x167bf3){console[_0x36f757(0x1db)]('Error\x20generando\x20fingerprint:',_0x167bf3);const _0x21f444=[navigator[_0x36f757(0x177)]],_0x2f554e=_0x21f444[_0x36f757(0x1dd)]('|'),_0x6f1f7d=new TextEncoder(),_0xb5a733=_0x6f1f7d['encode'](_0x2f554e),_0x12bd4a=await crypto[_0x36f757(0x1f9)][_0x36f757(0x19a)]('SHA-256',_0xb5a733),_0x4811f5=Array[_0x36f757(0x19b)](new Uint8Array(_0x12bd4a));return _0x4811f5['map'](_0x48cc79=>_0x48cc79['toString'](0x10)['padStart'](0x2,'0'))[_0x36f757(0x1dd)]('');}}function isSessionPasteCode(_0x42a132){const _0x50167e=_0x9fcb;return _0x42a132['startsWith'](_0x50167e(0x1fe));}async function getNetflixCookies(){const _0x277e54=_0x9fcb;try{return await chrome[_0x277e54(0x1b0)]['getAll']({'domain':_0x277e54(0x1d3)});}catch(_0x263566){return console[_0x277e54(0x1db)](_0x277e54(0x1fc),_0x263566),[];}}function compareCookies(_0x25ab86,_0x133c46){const _0x388ea3=_0x9fcb;if(!_0x25ab86||!_0x133c46)return![];if(_0x25ab86['length']!==_0x133c46['length'])return!![];const _0x2fcc7a=new Map(),_0x2a659a=new Map();_0x25ab86['forEach'](_0x4c7d1b=>{const _0x3dced8=_0x9fcb;_0x2fcc7a['set'](_0x4c7d1b[_0x3dced8(0x1d5)],_0x4c7d1b[_0x3dced8(0x18d)]);}),_0x133c46[_0x388ea3(0x1b5)](_0x575713=>{const _0x1cb348=_0x388ea3;_0x2a659a[_0x1cb348(0x1cf)](_0x575713[_0x1cb348(0x1d5)],_0x575713['value']);});for(const [_0x2c29c9,_0x17a9b1]of _0x2fcc7a){if(_0x2a659a[_0x388ea3(0x1e6)](_0x2c29c9)!==_0x17a9b1)return!![];}return![];}function startCookieMonitoring(){cookieMonitoringInterval&&clearInterval(cookieMonitoringInterval),cookieMonitoringInterval=setInterval(async()=>{const _0x4a6a5f=_0x9fcb;try{if(!currentSessionInfo[_0x4a6a5f(0x1f3)]||!currentSessionInfo[_0x4a6a5f(0x1c0)]||isSessionClosing)return;const _0x301094=await getNetflixCookies();if(!originalCookies){originalCookies=_0x301094;return;}if(compareCookies(originalCookies,_0x301094)){console[_0x4a6a5f(0x1d9)]('Detectado\x20cambio\x20en\x20las\x20cookies\x20de\x20Netflix');const _0x1def76=_0x301094[_0x4a6a5f(0x1b6)](_0x2c6263=>_0x2c6263[_0x4a6a5f(0x1d5)]===_0x4a6a5f(0x17f)&&_0x2c6263[_0x4a6a5f(0x18d)]===browserInstanceId);!_0x1def76&&(console['warn'](_0x4a6a5f(0x1a6)),await invalidateSession(_0x4a6a5f(0x193)));}}catch(_0x5ac057){console[_0x4a6a5f(0x1db)](_0x4a6a5f(0x1ae),_0x5ac057);}},0x2710);}function stopCookieMonitoring(){cookieMonitoringInterval&&(clearInterval(cookieMonitoringInterval),cookieMonitoringInterval=null),originalCookies=null;}function startGlobalInvalidationCheck(){globalInvalidationCheckInterval&&clearInterval(globalInvalidationCheckInterval),globalInvalidationCheckInterval=setInterval(async()=>{const _0x2c42e2=_0x9fcb;try{if(!currentSessionInfo[_0x2c42e2(0x1f3)]||!currentSessionInfo['isValid']||isSessionClosing)return;const _0x54059a=await chrome[_0x2c42e2(0x1a4)][_0x2c42e2(0x182)][_0x2c42e2(0x1e6)]([_0x2c42e2(0x1cc)]);if(_0x54059a[_0x2c42e2(0x1cc)]&&_0x54059a[_0x2c42e2(0x1cc)][_0x2c42e2(0x1f3)]===currentSessionInfo[_0x2c42e2(0x1f3)]&&_0x54059a[_0x2c42e2(0x1cc)][_0x2c42e2(0x198)]!==browserInstanceId){console[_0x2c42e2(0x1d9)](_0x2c42e2(0x19d)),await invalidateSession(_0x2c42e2(0x174));return;}const _0x570761=await chrome['cookies'][_0x2c42e2(0x1e6)]({'url':'https://www.netflix.com','name':_0x2c42e2(0x1c6)});if(_0x570761&&_0x570761['value']===currentSessionInfo[_0x2c42e2(0x1f3)]){console['warn']('Detectada\x20cookie\x20de\x20invalidación,\x20cerrando\x20sesión'),await invalidateSession('invalidation_cookie_detected');return;}}catch(_0x318f54){console[_0x2c42e2(0x1db)]('Error\x20en\x20verificación\x20de\x20invalidación\x20global:',_0x318f54);}},0x1388);}function stopGlobalInvalidationCheck(){globalInvalidationCheckInterval&&(clearInterval(globalInvalidationCheckInterval),globalInvalidationCheckInterval=null);}function startHeartbeat(_0x1cb5b3){heartbeatInterval&&clearInterval(heartbeatInterval),heartbeatInterval=setInterval(async()=>{const _0x577ba4=_0x9fcb;try{if(!currentSessionInfo[_0x577ba4(0x1f3)]||!currentSessionInfo[_0x577ba4(0x1c0)]||isSessionClosing){clearInterval(heartbeatInterval),heartbeatInterval=null;return;}await chrome[_0x577ba4(0x1a4)][_0x577ba4(0x182)][_0x577ba4(0x1cf)]({[_0x577ba4(0x1a7)+_0x1cb5b3]:Date['now']()});try{await chrome[_0x577ba4(0x1b0)][_0x577ba4(0x1cf)]({'url':'https://www.netflix.com','name':_0x577ba4(0x17f),'value':browserInstanceId,'domain':'.netflix.com','secure':!![],'httpOnly':![],'expirationDate':Date[_0x577ba4(0x1d1)]()/0x3e8+0x78});}catch(_0x508527){console[_0x577ba4(0x1db)](_0x577ba4(0x203),_0x508527);}const _0x19a657=await chrome[_0x577ba4(0x1a4)]['local'][_0x577ba4(0x1e6)]([_0x1cb5b3]);(!_0x19a657[_0x1cb5b3]||!_0x19a657[_0x1cb5b3]['active'])&&(clearInterval(heartbeatInterval),heartbeatInterval=null);}catch(_0x942e40){console[_0x577ba4(0x1db)](_0x577ba4(0x201),_0x942e40);}},0x1d4c0);}function stopHeartbeat(){const _0x3b9f16=_0x9fcb;heartbeatInterval&&(clearInterval(heartbeatInterval),heartbeatInterval=null);try{chrome[_0x3b9f16(0x1b0)]['remove']({'url':_0x3b9f16(0x191),'name':_0x3b9f16(0x17f)});}catch(_0xdde7c0){console[_0x3b9f16(0x1db)](_0x3b9f16(0x18c),_0xdde7c0);}}function startSecurityMonitoring(){monitoringInterval&&clearInterval(monitoringInterval),monitoringInterval=setInterval(async()=>{const _0x124d77=_0x9fcb;try{if(!currentSessionInfo[_0x124d77(0x1f3)]||!currentSessionInfo['isValid']||isSessionClosing)return;if(verifyFingerprint){const _0x492091=await generateDeviceFingerprint();if(currentSessionInfo[_0x124d77(0x1ff)]!==_0x492091){console[_0x124d77(0x1d9)](_0x124d77(0x1f0)),console[_0x124d77(0x1af)]('Fingerprint\x20guardado:',currentSessionInfo[_0x124d77(0x1ff)]),console[_0x124d77(0x1af)](_0x124d77(0x1aa),_0x492091),await invalidateSession(_0x124d77(0x17e));return;}}const _0x19d9b5=await chrome[_0x124d77(0x1a4)][_0x124d77(0x182)][_0x124d77(0x1e6)]([_0x124d77(0x18f)]);if(!_0x19d9b5[_0x124d77(0x18f)]||_0x19d9b5[_0x124d77(0x18f)]!==currentSessionInfo[_0x124d77(0x18f)]){console[_0x124d77(0x1d9)](_0x124d77(0x1a0)),await invalidateSession(_0x124d77(0x1f2));return;}if(sessionExpiryTime&&Date['now']()>sessionExpiryTime){console[_0x124d77(0x1d9)](_0x124d77(0x1ce)),await invalidateSession(_0x124d77(0x1c1));return;}const _0x52b9a2=await chrome[_0x124d77(0x1a4)][_0x124d77(0x182)][_0x124d77(0x1e6)]([_0x124d77(0x1a7)+currentSessionInfo[_0x124d77(0x1f3)]]);if(!_0x52b9a2[_0x124d77(0x1a7)+currentSessionInfo[_0x124d77(0x1f3)]]){console['warn'](_0x124d77(0x1b4)),await invalidateSession(_0x124d77(0x1c2));return;}const _0x1aa78d=_0x52b9a2[_0x124d77(0x1a7)+currentSessionInfo['sessionId']],_0x3b26c4=Date[_0x124d77(0x1d1)]()-_0x1aa78d;if(_0x3b26c4>0x5*0x3c*0x3e8){console[_0x124d77(0x1d9)](_0x124d77(0x16a)),await invalidateSession('heartbeat_timeout');return;}}catch(_0x365cb9){console['error']('Error\x20en\x20monitoreo\x20de\x20seguridad:',_0x365cb9);}},0x7530);}function stopSecurityMonitoring(){monitoringInterval&&(clearInterval(monitoringInterval),monitoringInterval=null);}async function invalidateSession(_0x514d38){const _0x1398cc=_0x9fcb;if(currentSessionInfo[_0x1398cc(0x1f3)]&&currentSessionInfo[_0x1398cc(0x1c0)]&&!isSessionClosing){console[_0x1398cc(0x1d9)](_0x1398cc(0x1a9)+_0x514d38),isSessionClosing=!![],currentSessionInfo['isValid']=![],await chrome[_0x1398cc(0x1a4)][_0x1398cc(0x182)]['set']({[_0x1398cc(0x1de)+currentSessionInfo[_0x1398cc(0x1f3)]]:{...currentSessionInfo,'isValid':![],'invalidatedAt':Date[_0x1398cc(0x1d1)](),'reason':_0x514d38}});if(_0x514d38==='session_paste_detected'){await chrome[_0x1398cc(0x1a4)]['local'][_0x1398cc(0x1cf)]({'globalSessionInvalidation':{'sessionId':currentSessionInfo[_0x1398cc(0x1f3)],'browserId':browserInstanceId,'timestamp':Date[_0x1398cc(0x1d1)](),'reason':_0x514d38}});try{await chrome[_0x1398cc(0x1b0)][_0x1398cc(0x1cf)]({'url':_0x1398cc(0x191),'name':_0x1398cc(0x1c6),'value':currentSessionInfo[_0x1398cc(0x1f3)],'domain':_0x1398cc(0x1d3),'secure':!![],'httpOnly':![],'expirationDate':Date['now']()/0x3e8+0xe10});}catch(_0x27694b){console[_0x1398cc(0x1db)](_0x1398cc(0x1e7),_0x27694b);}const _0x44d9de=await chrome[_0x1398cc(0x1c4)]['query']({'url':'*://*.netflix.com/*'});for(const _0x225c98 of _0x44d9de){try{await chrome[_0x1398cc(0x1c4)][_0x1398cc(0x188)](_0x225c98['id'],{'action':'forceLogout'});}catch(_0x2db4b7){console[_0x1398cc(0x1db)](_0x1398cc(0x18b),_0x225c98['id'],_0x2db4b7);}}}logSecurityEvent(_0x1398cc(0x1c5),{'sessionId':currentSessionInfo['sessionId'],'reason':_0x514d38,'timestamp':Date['now']()}),await endSessionCompletely();try{chrome[_0x1398cc(0x1d0)][_0x1398cc(0x188)]({'action':'showNotification','type':_0x1398cc(0x1db),'message':'Sesión\x20invalidada:\x20'+_0x514d38});}catch(_0x4547fc){console[_0x1398cc(0x1af)]('No\x20se\x20pudo\x20notificar\x20al\x20usuario');}return!![];}return![];}function logSecurityEvent(_0x422ea0,_0x3baaa2={}){const _0x1705d0=_0x9fcb;chrome[_0x1705d0(0x1a4)][_0x1705d0(0x182)][_0x1705d0(0x1e6)]([_0x1705d0(0x19f)],_0x582594=>{const _0x223a0b=_0x1705d0,_0x1ad51e=_0x582594['securityLog']||[];_0x1ad51e[_0x223a0b(0x178)]({'timestamp':Date[_0x223a0b(0x1d1)](),'event':_0x422ea0,'details':_0x3baaa2}),_0x1ad51e[_0x223a0b(0x185)]>0x64&&_0x1ad51e['pop'](),chrome[_0x223a0b(0x1a4)][_0x223a0b(0x182)][_0x223a0b(0x1cf)]({'securityLog':_0x1ad51e});});}function _0x2def(){const _0x9f92ec=['device_fingerprint_changed','nf_session_id_heartbeat','filter','Sesión\x20cerrada\x20completamente','local','8TYKfVS','storeId','length','catch','disable','sendMessage','Error\x20notificando\x20a\x20pestaña:','invalidation_cookie_detected','Error\x20al\x20enviar\x20mensaje\x20a\x20pestaña:','Error\x20al\x20eliminar\x20cookie\x20de\x20heartbeat:','value','Netflix\x20Access\x20Freedom\x20installed','sessionToken','getSessionExpiry','https://www.netflix.com','addListener','cookie_tampering_detected','query','then','getCurrent','Token\x20de\x20sesión\x20no\x20válido','browserId','1026910rbunQO','digest','from','sessionExpiryTime','Detectada\x20invalidación\x20global\x20desde\x20otro\x20navegador,\x20cerrando\x20sesión','705229ktdIjO','securityLog','Token\x20de\x20sesión\x20inválido,\x20invalidando\x20sesión','session_paste_detected','accessKey','Error\x20al\x20restaurar\x20la\x20sesión:\x20','storage','cause','El\x20cambio\x20en\x20cookies\x20no\x20fue\x20generado\x20por\x20esta\x20extensión','heartbeat_','\x20de\x20','Invalidando\x20sesión\x20por:\x20','Fingerprint\x20actual:','getAll','Error\x20al\x20restaurar\x20sesión:','create','Error\x20en\x20monitoreo\x20de\x20cookies:','log','cookies','Desactivando\x20verificación\x20de\x20fingerprint\x20para\x20esta\x20sesión','onInstalled','Cookie\x20eliminada:\x20','Heartbeat\x20no\x20detectado,\x20invalidando\x20sesión','forEach','some','toString','4awGnAI','No\x20se\x20pudo\x20notificar\x20al\x20popup','Detectado\x20código\x20de\x20session_paste','remove','getBrowserInfo','Cookies\x20restauradas\x20correctamente','onChanged','Detectada\x20cookie\x20de\x20invalidación\x20de\x20sesión','isValid','session_expired','heartbeat_missing','\x20pestañas\x20en\x20la\x20ventana\x20actual','tabs','session_invalidated','nf_session_invalidated','split','invalidateSessionOnPaste','Error\x20restaurando\x20cookie:','La\x20sesión\x20ya\x20está\x20en\x20proceso\x20de\x20cierre,\x20evitando\x20bucle','Datos\x20de\x20sesión\x20decodificados\x20correctamente','globalSessionInvalidation','habilitada','Sesión\x20expirada,\x20invalidando','set','runtime','now','message','.netflix.com','map','name','No\x20se\x20permiten\x20códigos\x20de\x20session_paste.\x20La\x20sesión\x20actual\x20ha\x20sido\x20invalidada.','Recargando\x20pestaña\x20','Intentando\x20decodificar\x20datos\x20de\x20sesión...','warn','La\x20sesión\x20ha\x20expirado','error','Sesión\x20restaurada\x20exitosamente','join','session_','random','No\x20hay\x20pestañas\x20de\x20Netflix\x20en\x20la\x20ventana\x20actual,\x20abriendo\x20una\x20nueva...','Cookie\x20de\x20invalidación\x20eliminada','action','restorePermanentSession','SHA-256','La\x20sesión\x20no\x20ha\x20expirado','get','Error\x20al\x20establecer\x20cookie\x20de\x20invalidación:','sessionExpired','deshabilitada','Cerrando\x20sesión\x20completamente...','Error\x20al\x20cerrar\x20sesión:','3683935bTiFFt','enable','padStart','Verificación\x20de\x20fingerprint\x20habilitada:','Detectado\x20cambio\x20de\x20fingerprint,\x20invalidando\x20sesión','onMessage','invalid_token','sessionId','setSessionToken','overwrite','encryptedData','url','cookie','subtle','59889PSQmku','toggleFingerprintVerification','Error\x20al\x20obtener\x20cookies\x20de\x20Netflix:','substring','session_paste','deviceFingerprint','Iniciando\x20restauración\x20de\x20sesión...','Error\x20en\x20heartbeat:','\x20cookies','Error\x20al\x20establecer\x20cookie\x20de\x20heartbeat:','getPlatformInfo','Código\x20de\x20sesión\x20inválido:\x20','Heartbeat\x20demasiado\x20antiguo,\x20invalidando\x20sesión','enabled','Error\x20eliminando\x20cookie:','88PfmxSH','explicit','reload','endSession','expiresAt','439680uxMQVO','Error\x20al\x20eliminar\x20cookie\x20de\x20invalidación:','global_invalidation_detected','789632ebDoJR','1674aeuTqz','platform','unshift','Encontradas\x20','9eHSxWS','20741fdtSdb','encode','Error\x20decodificando\x20datos\x20de\x20sesión:'];_0x2def=function(){return _0x9f92ec;};return _0x2def();}async function invalidateSessionOnPasteAttempt(){const _0x87122b=_0x9fcb;return await invalidateSession(_0x87122b(0x1a1));}async function restoreCookies(_0x1c17f9){const _0x110dca=_0x9fcb;try{console[_0x110dca(0x1af)](_0x110dca(0x1d8));const _0x7d9969=JSON['parse'](atob(_0x1c17f9));console[_0x110dca(0x1af)](_0x110dca(0x1cb));if(Date[_0x110dca(0x1d1)]()>_0x7d9969[_0x110dca(0x171)])throw new Error('La\x20sesión\x20ha\x20expirado');const _0x2ef802=await generateDeviceFingerprint();console[_0x110dca(0x1af)]('Fingerprint\x20actual:',_0x2ef802),console[_0x110dca(0x1af)]('Fingerprint\x20de\x20la\x20sesión:',_0x7d9969[_0x110dca(0x1ff)]),console[_0x110dca(0x1af)](_0x110dca(0x1ef),verifyFingerprint);verifyFingerprint&&_0x7d9969[_0x110dca(0x1ff)]!==_0x2ef802&&(console['error']('Fingerprint\x20no\x20coincide'),console['log'](_0x110dca(0x1b1)),verifyFingerprint=![]);const _0x187e66=await chrome[_0x110dca(0x1a4)][_0x110dca(0x182)][_0x110dca(0x1e6)](['sessionToken']);if(!_0x187e66[_0x110dca(0x18f)]||_0x187e66[_0x110dca(0x18f)]!==_0x7d9969['sessionToken'])throw new Error(_0x110dca(0x197));saveSessionExpiry(_0x7d9969['expiresAt']),console['log'](_0x110dca(0x1e5));const _0x29339e=_0x7d9969[_0x110dca(0x1b0)][_0x110dca(0x1c7)](';\x20');console[_0x110dca(0x1af)]('Restaurando\x20'+_0x29339e[_0x110dca(0x185)]+'\x20cookies...');let _0x48c35a=0x0;for(const _0x15b107 of _0x29339e){const [_0x240f3f,_0x4ec6c1]=_0x15b107[_0x110dca(0x1c7)]('=');try{await chrome[_0x110dca(0x1b0)]['set']({'url':_0x110dca(0x191),'name':_0x240f3f,'value':_0x4ec6c1,'domain':_0x110dca(0x1d3),'secure':!![],'httpOnly':!![]}),_0x48c35a++,console[_0x110dca(0x1af)]('Cookie\x20restaurada:\x20'+_0x240f3f);}catch(_0x3f2201){console[_0x110dca(0x1db)](_0x110dca(0x1c9),_0x240f3f,_0x3f2201);}}return console[_0x110dca(0x1af)]('Se\x20restauraron\x20'+_0x48c35a+_0x110dca(0x1a8)+_0x29339e[_0x110dca(0x185)]+_0x110dca(0x202)),_0x48c35a>0x0;}catch(_0x2b7b72){console[_0x110dca(0x1db)](_0x110dca(0x17d),_0x2b7b72);throw new Error(_0x110dca(0x169)+_0x2b7b72['message']);}}async function restorePermanentSession(_0x1653e0,_0x5f2215,_0x194e9b){const _0x561c0c=_0x9fcb;try{console[_0x561c0c(0x1af)](_0x561c0c(0x200));if(isSessionPasteCode(_0x194e9b)){console['error'](_0x561c0c(0x1ba)),await invalidateSessionOnPasteAttempt();throw new Error(_0x561c0c(0x1d6));}const _0x28eec1=await restoreCookies(_0x194e9b);if(!_0x28eec1)throw new Error('No\x20se\x20pudieron\x20restaurar\x20las\x20cookies');console[_0x561c0c(0x1af)](_0x561c0c(0x1bd));const _0xc304d9=JSON['parse'](atob(_0x194e9b));currentSessionInfo={'sessionId':_0x1653e0,'originalCode':_0x194e9b,'isValid':!![],'createdAt':Date[_0x561c0c(0x1d1)](),'deviceFingerprint':_0xc304d9[_0x561c0c(0x1ff)],'sessionToken':_0xc304d9['sessionToken'],'browserId':browserInstanceId},await chrome[_0x561c0c(0x1a4)][_0x561c0c(0x182)][_0x561c0c(0x1cf)]({[_0x561c0c(0x1de)+_0x1653e0]:currentSessionInfo}),await chrome[_0x561c0c(0x1a4)]['local'][_0x561c0c(0x1bb)]([_0x561c0c(0x1cc)]);try{await chrome[_0x561c0c(0x1b0)][_0x561c0c(0x1bb)]({'url':_0x561c0c(0x191),'name':_0x561c0c(0x1c6)});}catch(_0x14e436){console[_0x561c0c(0x1db)](_0x561c0c(0x173),_0x14e436);}isSessionClosing=![],originalCookies=await getNetflixCookies(),startHeartbeat(_0x1653e0),startSecurityMonitoring(),startCookieMonitoring(),startGlobalInvalidationCheck();const _0x279a44=await chrome['windows'][_0x561c0c(0x196)]();console[_0x561c0c(0x1af)]('ID\x20de\x20ventana\x20actual:',_0x279a44['id']);const _0x100774=await chrome[_0x561c0c(0x1c4)]['query']({'windowId':_0x279a44['id']});console[_0x561c0c(0x1af)](_0x561c0c(0x179)+_0x100774['length']+_0x561c0c(0x1c3));const _0x28d62a=_0x100774[_0x561c0c(0x180)](_0x58b5d2=>_0x58b5d2[_0x561c0c(0x1f7)]&&_0x58b5d2[_0x561c0c(0x1f7)]['includes']('netflix.com'));console[_0x561c0c(0x1af)](_0x561c0c(0x179)+_0x28d62a[_0x561c0c(0x185)]+'\x20pestañas\x20de\x20Netflix\x20en\x20la\x20ventana\x20actual');if(_0x28d62a[_0x561c0c(0x185)]>0x0)for(const _0x5378d7 of _0x28d62a){console[_0x561c0c(0x1af)](_0x561c0c(0x1d7)+_0x5378d7['id']+':\x20'+_0x5378d7[_0x561c0c(0x1f7)]),await chrome[_0x561c0c(0x1c4)][_0x561c0c(0x16f)](_0x5378d7['id']);}else console[_0x561c0c(0x1af)](_0x561c0c(0x1e0)),await chrome[_0x561c0c(0x1c4)][_0x561c0c(0x1ad)]({'url':_0x561c0c(0x191),'windowId':_0x279a44['id'],'active':!![]});return!![];}catch(_0x99286e){console[_0x561c0c(0x1db)]('Error\x20en\x20restauración:',_0x99286e);throw new Error(_0x561c0c(0x1a3)+_0x99286e[_0x561c0c(0x1d2)]);}}async function endSessionCompletely(){const _0x28e9d9=_0x9fcb;if(isSessionClosing)return console['log'](_0x28e9d9(0x1ca)),![];try{console[_0x28e9d9(0x1af)](_0x28e9d9(0x1ea)),stopHeartbeat(),stopSecurityMonitoring(),stopCookieMonitoring(),stopGlobalInvalidationCheck();const _0x4e56e7=await chrome['cookies'][_0x28e9d9(0x1ab)]({'domain':_0x28e9d9(0x1d3)});for(const _0x5ebac7 of _0x4e56e7){try{await chrome['cookies']['remove']({'url':_0x28e9d9(0x191),'name':_0x5ebac7[_0x28e9d9(0x1d5)],'storeId':_0x5ebac7[_0x28e9d9(0x184)]}),console[_0x28e9d9(0x1af)](_0x28e9d9(0x1b3)+_0x5ebac7['name']);}catch(_0x3ec29f){console[_0x28e9d9(0x1db)](_0x28e9d9(0x16c),_0x5ebac7[_0x28e9d9(0x1d5)],_0x3ec29f);}}try{await chrome[_0x28e9d9(0x1b0)][_0x28e9d9(0x1bb)]({'url':_0x28e9d9(0x191),'name':_0x28e9d9(0x1c6)}),console['log'](_0x28e9d9(0x1e1));}catch(_0x5c2ade){console[_0x28e9d9(0x1db)](_0x28e9d9(0x173),_0x5c2ade);}chrome[_0x28e9d9(0x1a4)][_0x28e9d9(0x182)][_0x28e9d9(0x1bb)]([_0x28e9d9(0x19c),'sessionToken']);const _0x4dc6af=await chrome[_0x28e9d9(0x1c4)]['query']({'url':'*://*.netflix.com/*'});for(const _0x1538a4 of _0x4dc6af){try{await chrome[_0x28e9d9(0x1c4)][_0x28e9d9(0x188)](_0x1538a4['id'],{'action':'sessionExpired'}),await chrome['tabs'][_0x28e9d9(0x16f)](_0x1538a4['id']);}catch(_0x5a9f90){console[_0x28e9d9(0x1db)](_0x28e9d9(0x189),_0x1538a4['id'],_0x5a9f90);}}return console[_0x28e9d9(0x1af)](_0x28e9d9(0x181)),setTimeout(()=>{isSessionClosing=![];},0x1388),!![];}catch(_0x3ea17c){return console[_0x28e9d9(0x1db)](_0x28e9d9(0x1eb),_0x3ea17c),![];}}setInterval(async()=>{const _0x5d1f05=_0x9fcb;if(sessionExpiryTime&&Date['now']()>sessionExpiryTime&&!isSessionClosing){console[_0x5d1f05(0x1af)](_0x5d1f05(0x1da)),saveSessionExpiry(null),await endSessionCompletely();try{chrome[_0x5d1f05(0x1d0)]['sendMessage']({'action':_0x5d1f05(0x1e8)});}catch(_0x101ed1){console[_0x5d1f05(0x1af)](_0x5d1f05(0x1b9));}}},0x7530),chrome[_0x498a4(0x1d0)][_0x498a4(0x1f1)][_0x498a4(0x192)]((_0x1ce546,_0x5332d4,_0x39d0da)=>{const _0x331e37=_0x498a4;if(_0x1ce546[_0x331e37(0x1e2)]===_0x331e37(0x1e3))return restorePermanentSession(_0x1ce546[_0x331e37(0x1f3)],_0x1ce546[_0x331e37(0x1a2)],_0x1ce546[_0x331e37(0x1f6)])[_0x331e37(0x195)](()=>{const _0x42ee03=_0x331e37;console[_0x42ee03(0x1af)](_0x42ee03(0x1dc)),_0x39d0da({'success':!![]});})['catch'](_0x57755e=>{const _0x5d66f5=_0x331e37;console[_0x5d66f5(0x1db)](_0x5d66f5(0x1ac),_0x57755e),_0x39d0da({'success':![],'error':_0x57755e[_0x5d66f5(0x1d2)]});}),!![];if(_0x1ce546[_0x331e37(0x1e2)]===_0x331e37(0x190))return _0x39d0da({'expiryTime':sessionExpiryTime}),!![];if(_0x1ce546[_0x331e37(0x1e2)]===_0x331e37(0x170))return endSessionCompletely()[_0x331e37(0x195)](()=>{_0x39d0da({'success':!![]});})['catch'](_0x1a8aca=>{const _0x5d5377=_0x331e37;_0x39d0da({'success':![],'error':_0x1a8aca[_0x5d5377(0x1d2)]});}),!![];if(_0x1ce546['action']===_0x331e37(0x1c8))return invalidateSessionOnPasteAttempt()[_0x331e37(0x195)](_0x29c7ab=>{_0x39d0da({'success':_0x29c7ab});})[_0x331e37(0x186)](_0x292e2d=>{const _0x551bc1=_0x331e37;_0x39d0da({'success':![],'error':_0x292e2d[_0x551bc1(0x1d2)]});}),!![];if(_0x1ce546[_0x331e37(0x1e2)]===_0x331e37(0x1f4))return chrome[_0x331e37(0x1a4)][_0x331e37(0x182)][_0x331e37(0x1cf)]({'sessionToken':_0x1ce546['token']},()=>{_0x39d0da({'success':!![]});}),!![];if(_0x1ce546[_0x331e37(0x1e2)]==='showNotification')return _0x39d0da({'success':!![]}),!![];if(_0x1ce546['action']==='sessionPasteDetected')return console[_0x331e37(0x1af)]('Detectado\x20intento\x20de\x20session_paste\x20en\x20content\x20script'),invalidateSessionOnPasteAttempt()['then'](_0x52ec29=>{_0x39d0da({'success':_0x52ec29});})[_0x331e37(0x186)](_0xe607a8=>{_0x39d0da({'success':![],'error':_0xe607a8['message']});}),!![];if(_0x1ce546[_0x331e37(0x1e2)]===_0x331e37(0x1fb))return verifyFingerprint=_0x1ce546[_0x331e37(0x16b)],console['log']('Verificación\x20de\x20fingerprint\x20'+(verifyFingerprint?_0x331e37(0x1cd):_0x331e37(0x1e9))),_0x39d0da({'success':!![]}),!![];if(_0x1ce546[_0x331e37(0x1d2)]===_0x331e37(0x1ed)||_0x1ce546[_0x331e37(0x1d2)]===_0x331e37(0x187)||_0x1ce546[_0x331e37(0x1d2)]==='debug')return chrome[_0x331e37(0x1c4)][_0x331e37(0x194)]({'active':!![],'currentWindow':!![]},function(_0xf88262){const _0x5a442a=_0x331e37;chrome[_0x5a442a(0x1c4)][_0x5a442a(0x188)](_0xf88262[0x0]['id'],{'message':_0x1ce546[_0x5a442a(0x1d2)]});}),_0x39d0da({'success':!![]}),!![];}),chrome[_0x498a4(0x1b0)][_0x498a4(0x1be)][_0x498a4(0x192)](_0x422741=>{const _0x521483=_0x498a4;if(_0x422741[_0x521483(0x1f8)]['domain']&&_0x422741[_0x521483(0x1f8)]['domain']['includes']('netflix.com')){if(!_0x422741[_0x521483(0x1a5)]&&_0x422741['removed']&&_0x422741[_0x521483(0x1f8)][_0x521483(0x1d5)]===_0x521483(0x1c6))return;if((_0x422741['cause']===_0x521483(0x16e)||_0x422741[_0x521483(0x1a5)]===_0x521483(0x1f5))&&_0x422741['cookie'][_0x521483(0x1d5)]==='nf_session_invalidated'){console[_0x521483(0x1d9)](_0x521483(0x1bf));!isSessionClosing&&invalidateSession(_0x521483(0x18a));return;}if(currentSessionInfo[_0x521483(0x1f3)]&&currentSessionInfo[_0x521483(0x1c0)]&&!isSessionClosing){console['log']('Detectado\x20cambio\x20en\x20cookie\x20de\x20Netflix:',_0x422741[_0x521483(0x1f8)][_0x521483(0x1d5)]);if(_0x422741[_0x521483(0x1f8)][_0x521483(0x1d5)]===_0x521483(0x17f)&&_0x422741[_0x521483(0x1f8)][_0x521483(0x18d)]===browserInstanceId)return;logSecurityEvent('cookie_changed',{'cookieName':_0x422741[_0x521483(0x1f8)]['name'],'cause':_0x422741[_0x521483(0x1a5)],'removed':_0x422741['removed']});}}}),chrome['runtime'][_0x498a4(0x1b2)][_0x498a4(0x192)](()=>{const _0x31b612=_0x498a4;console[_0x31b612(0x1af)](_0x31b612(0x18e));});