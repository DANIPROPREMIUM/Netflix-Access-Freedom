const _0xa8ddb3=_0x109a;(function(_0x56f438,_0x5ce8ca){const _0x494352=_0x109a,_0x48860a=_0x56f438();while(!![]){try{const _0x273472=parseInt(_0x494352(0x1b4))/0x1*(-parseInt(_0x494352(0x1a3))/0x2)+-parseInt(_0x494352(0x1db))/0x3+-parseInt(_0x494352(0x1ee))/0x4*(parseInt(_0x494352(0x1ea))/0x5)+-parseInt(_0x494352(0x1cb))/0x6*(-parseInt(_0x494352(0x20a))/0x7)+-parseInt(_0x494352(0x1fd))/0x8*(parseInt(_0x494352(0x1f3))/0x9)+parseInt(_0x494352(0x1c7))/0xa+parseInt(_0x494352(0x1aa))/0xb*(parseInt(_0x494352(0x1ac))/0xc);if(_0x273472===_0x5ce8ca)break;else _0x48860a['push'](_0x48860a['shift']());}catch(_0x499a5e){_0x48860a['push'](_0x48860a['shift']());}}}(_0x3483,0x2440a));let sessionExpiryTime=null,currentSessionInfo={'sessionId':null,'originalCode':null,'isValid':!![],'createdAt':null,'deviceFingerprint':null,'sessionToken':null,'browserId':null},heartbeatInterval=null,monitoringInterval=null,verifyFingerprint=![];const browserInstanceId=_0xa8ddb3(0x1b5);let originalCookies=null,cookieMonitoringInterval=null,isSessionClosing=![],sessionPersistenceEnabled=!![],protectedCookies=null,isRestoringCookies=![];const PROTECTED_COOKIES_KEY=_0xa8ddb3(0x1b6),SESSION_INFO_KEY=_0xa8ddb3(0x1e5),PROTECTION_ENABLED_KEY=_0xa8ddb3(0x1e9),IDB_NAME='NetflixProtectionDB',IDB_VERSION=0x1,IDB_STORE_COOKIES=_0xa8ddb3(0x195),IDB_STORE_SESSION=_0xa8ddb3(0x1f8);let db=null;const ACCESS_FREEDOM_VERSION=_0xa8ddb3(0x199);async function initIndexedDB(){return new Promise((_0x472f8b,_0x455538)=>{const _0x396eba=_0x109a,_0x17fe95=indexedDB[_0x396eba(0x1e7)](IDB_NAME,IDB_VERSION);_0x17fe95[_0x396eba(0x1e2)]=()=>{const _0x16273a=_0x396eba;_0x455538(_0x17fe95[_0x16273a(0x1a6)]);},_0x17fe95[_0x396eba(0x1b8)]=()=>{const _0x3ff340=_0x396eba;db=_0x17fe95[_0x3ff340(0x1a7)],_0x472f8b(db);},_0x17fe95['onupgradeneeded']=_0x2c61cf=>{const _0x15a197=_0x396eba,_0x44daa7=_0x2c61cf[_0x15a197(0x205)]['result'];if(!_0x44daa7[_0x15a197(0x209)]['contains'](IDB_STORE_COOKIES)){const _0x548f79=_0x44daa7[_0x15a197(0x196)](IDB_STORE_COOKIES,{'keyPath':_0x15a197(0x1a9)});_0x548f79['createIndex'](_0x15a197(0x1b3),_0x15a197(0x1b3),{'unique':![]});}if(!_0x44daa7['objectStoreNames'][_0x15a197(0x1d6)](IDB_STORE_SESSION)){const _0x1a65f0=_0x44daa7[_0x15a197(0x196)](IDB_STORE_SESSION,{'keyPath':'sessionId'});_0x1a65f0['createIndex']('timestamp',_0x15a197(0x1b3),{'unique':![]});}};});}async function saveCookiesToIndexedDB(_0x32cb54){if(!db)await initIndexedDB();return new Promise((_0x3075fb,_0x18b70b)=>{const _0x17c4c7=_0x109a,_0x59a0be=db['transaction']([IDB_STORE_COOKIES],_0x17c4c7(0x1fc)),_0xbd18b8=_0x59a0be[_0x17c4c7(0x1c5)](IDB_STORE_COOKIES),_0x208ccf=_0xbd18b8['clear']();_0x208ccf[_0x17c4c7(0x1b8)]=()=>{const _0x38d4a0=_0x17c4c7;_0x32cb54['forEach'](_0x502688=>{const _0x395d1b=_0x109a;_0x502688[_0x395d1b(0x1b3)]=Date[_0x395d1b(0x19f)](),_0xbd18b8[_0x395d1b(0x1fe)](_0x502688);}),_0x59a0be[_0x38d4a0(0x1f0)]=()=>{_0x3075fb(!![]);},_0x59a0be['onerror']=()=>{_0x18b70b(_0x59a0be['error']);};};});}async function loadCookiesFromIndexedDB(){if(!db)await initIndexedDB();return new Promise((_0x2cd697,_0x282c19)=>{const _0x56526e=_0x109a,_0x1e1e12=db[_0x56526e(0x1b0)]([IDB_STORE_COOKIES],_0x56526e(0x1be)),_0x4c8536=_0x1e1e12[_0x56526e(0x1c5)](IDB_STORE_COOKIES),_0xe64942=_0x4c8536[_0x56526e(0x1d2)]();_0xe64942[_0x56526e(0x1b8)]=()=>{const _0x561549=_0x56526e,_0x35004e=_0xe64942[_0x561549(0x1a7)];_0x2cd697(_0x35004e);},_0xe64942['onerror']=()=>{_0x282c19(_0xe64942['error']);};});}async function saveSessionToIndexedDB(_0x30c06b){if(!db)await initIndexedDB();return new Promise((_0x2958e9,_0x64a271)=>{const _0x5e9064=_0x109a,_0x486027=db['transaction']([IDB_STORE_SESSION],_0x5e9064(0x1fc)),_0x32d22d=_0x486027['objectStore'](IDB_STORE_SESSION);_0x30c06b[_0x5e9064(0x1b3)]=Date[_0x5e9064(0x19f)]();const _0x2cf2d6=_0x32d22d['put'](_0x30c06b);_0x2cf2d6[_0x5e9064(0x1b8)]=()=>{_0x2958e9(!![]);},_0x2cf2d6[_0x5e9064(0x1e2)]=()=>{const _0x420f37=_0x5e9064;_0x64a271(_0x2cf2d6[_0x420f37(0x1a6)]);};});}function _0x109a(_0x39de6d,_0x26a2de){_0x39de6d=_0x39de6d-0x18d;const _0x3483e9=_0x3483();let _0x109a85=_0x3483e9[_0x39de6d];return _0x109a85;}async function loadSessionFromIndexedDB(){if(!db)await initIndexedDB();return new Promise((_0x364e6b,_0x24b90a)=>{const _0x3b9805=_0x109a,_0x177e8d=db[_0x3b9805(0x1b0)]([IDB_STORE_SESSION],_0x3b9805(0x1be)),_0xcb1aa1=_0x177e8d['objectStore'](IDB_STORE_SESSION),_0xe48dba=_0xcb1aa1[_0x3b9805(0x1d2)]();_0xe48dba['onsuccess']=()=>{const _0x25bd5d=_0x3b9805,_0x371ee0=_0xe48dba[_0x25bd5d(0x1a7)];if(_0x371ee0&&_0x371ee0[_0x25bd5d(0x1c8)]>0x0){const _0x4adaa1=_0x371ee0[_0x25bd5d(0x197)]((_0x1eb3b1,_0x2b6f46)=>_0x2b6f46[_0x25bd5d(0x1b3)]>_0x1eb3b1['timestamp']?_0x2b6f46:_0x1eb3b1);_0x364e6b(_0x4adaa1);}else _0x364e6b(null);},_0xe48dba[_0x3b9805(0x1e2)]=()=>{const _0x5620f8=_0x3b9805;_0x24b90a(_0xe48dba[_0x5620f8(0x1a6)]);};});}function generateBrowserInstanceId(){return'UNLIMITED_USERS_ACCESS';}function saveSessionExpiry(_0x38ab35){const _0x18eb1e=_0xa8ddb3;sessionExpiryTime=_0x38ab35,chrome[_0x18eb1e(0x1e4)][_0x18eb1e(0x19e)]['set']({'sessionExpiryTime':_0x38ab35});}function loadSessionExpiry(){return new Promise(_0x318791=>{const _0x5c71cc=_0x109a;chrome[_0x5c71cc(0x1e4)][_0x5c71cc(0x19e)]['get']([_0x5c71cc(0x207)],_0x1667de=>{const _0x3d63e6=_0x5c71cc;sessionExpiryTime=_0x1667de[_0x3d63e6(0x207)]||null,_0x318791(sessionExpiryTime);});});}async function saveProtectedCookiesToStorage(_0x271801){const _0x4af14f=_0xa8ddb3;try{const _0x51228b=_0x271801[_0x4af14f(0x203)](_0x77e7a8=>({'name':_0x77e7a8[_0x4af14f(0x1a9)],'value':_0x77e7a8[_0x4af14f(0x1c4)],'domain':_0x77e7a8['domain']||_0x4af14f(0x193),'path':_0x77e7a8[_0x4af14f(0x1bc)]||'/','secure':_0x77e7a8['secure']!==![],'httpOnly':_0x77e7a8['httpOnly']!==![],'expirationDate':_0x77e7a8[_0x4af14f(0x1da)]||Date[_0x4af14f(0x19f)]()/0x3e8+0x1e13380}));await chrome[_0x4af14f(0x1e4)][_0x4af14f(0x19e)]['set']({[PROTECTED_COOKIES_KEY]:_0x51228b,[PROTECTION_ENABLED_KEY]:!![]}),await saveCookiesToIndexedDB(_0x51228b);}catch(_0x18f3ea){}}async function loadProtectedCookiesFromStorage(){const _0x260990=_0xa8ddb3;try{const _0x456ad3=await chrome['storage'][_0x260990(0x19e)][_0x260990(0x201)]([PROTECTED_COOKIES_KEY,PROTECTION_ENABLED_KEY]);if(_0x456ad3[PROTECTION_ENABLED_KEY]&&_0x456ad3[PROTECTED_COOKIES_KEY])return protectedCookies=_0x456ad3[PROTECTED_COOKIES_KEY],!![];const _0x301a99=await loadCookiesFromIndexedDB();if(_0x301a99&&_0x301a99[_0x260990(0x1c8)]>0x0)return protectedCookies=_0x301a99,await chrome['storage'][_0x260990(0x19e)][_0x260990(0x1b9)]({[PROTECTED_COOKIES_KEY]:_0x301a99,[PROTECTION_ENABLED_KEY]:!![]}),!![];return![];}catch(_0x3beeef){return![];}}async function saveSessionInfoToStorage(){const _0xeb9d22=_0xa8ddb3;try{await chrome[_0xeb9d22(0x1e4)][_0xeb9d22(0x19e)]['set']({[SESSION_INFO_KEY]:currentSessionInfo}),await saveSessionToIndexedDB(currentSessionInfo);}catch(_0xf52621){}}async function loadSessionInfoFromStorage(){const _0x436a1b=_0xa8ddb3;try{const _0xd21866=await chrome['storage'][_0x436a1b(0x19e)][_0x436a1b(0x201)]([SESSION_INFO_KEY]);if(_0xd21866[SESSION_INFO_KEY])return currentSessionInfo=_0xd21866[SESSION_INFO_KEY],!![];const _0x145cab=await loadSessionFromIndexedDB();if(_0x145cab)return currentSessionInfo=_0x145cab,await chrome[_0x436a1b(0x1e4)][_0x436a1b(0x19e)][_0x436a1b(0x1b9)]({[SESSION_INFO_KEY]:_0x145cab}),!![];return![];}catch(_0x3ba7c7){return![];}}loadSessionExpiry();async function initializePersistentData(){const _0x19afb5=_0xa8ddb3;try{await initIndexedDB();const _0x3d9654=await loadProtectedCookiesFromStorage(),_0x4d2028=await loadSessionInfoFromStorage();currentSessionInfo[_0x19afb5(0x194)]&&(startCookieMonitoring(),startSecurityMonitoring(),currentSessionInfo['sessionId']&&startHeartbeat(currentSessionInfo[_0x19afb5(0x194)]));}catch(_0x43b7d6){}}initializePersistentData();async function generateDeviceFingerprint(){const _0x4b08fb=_0xa8ddb3;try{const _0x1b1dc1=['netflix_session_unlimited',navigator[_0x4b08fb(0x18d)],Intl[_0x4b08fb(0x1c1)]()['resolvedOptions']()[_0x4b08fb(0x1a1)],navigator['language']],_0x30e1aa=_0x1b1dc1[_0x4b08fb(0x1b2)]('|'),_0x4341b6=new TextEncoder(),_0x4df61f=_0x4341b6['encode'](_0x30e1aa),_0x1ade73=await crypto[_0x4b08fb(0x19b)][_0x4b08fb(0x1fa)](_0x4b08fb(0x1ff),_0x4df61f),_0xf55206=Array[_0x4b08fb(0x1d0)](new Uint8Array(_0x1ade73));return _0xf55206[_0x4b08fb(0x203)](_0x247654=>_0x247654[_0x4b08fb(0x191)](0x10)[_0x4b08fb(0x1f6)](0x2,'0'))[_0x4b08fb(0x1b2)]('');}catch(_0x2a4997){return'netflix_unlimited_fingerprint_123456789';}}function isSessionPasteCode(_0x4cc960){const _0x3d1b65=_0xa8ddb3;return _0x4cc960[_0x3d1b65(0x1af)](_0x3d1b65(0x1ae));}async function getNetflixCookies(){const _0x11e829=_0xa8ddb3;try{return await chrome[_0x11e829(0x204)]['getAll']({'domain':'.netflix.com'});}catch(_0xd9869e){return[];}}function compareCookies(_0x3c7caa,_0x13149d){return![];}async function restoreProtectedCookies(){const _0x3b7086=_0xa8ddb3;if(!protectedCookies||isRestoringCookies)return;isRestoringCookies=!![];try{const _0x5d2302=['NetflixId',_0x3b7086(0x18e),_0x3b7086(0x19c)],_0x1a86a1=await getNetflixCookies();let _0x3774ef=![];for(const _0x26719c of _0x5d2302){const _0x452e6e=protectedCookies['find'](_0x3f2fd7=>_0x3f2fd7['name']===_0x26719c),_0x4afa72=_0x1a86a1[_0x3b7086(0x1f2)](_0x37eae5=>_0x37eae5[_0x3b7086(0x1a9)]===_0x26719c);if(!_0x4afa72||_0x452e6e&&_0x452e6e[_0x3b7086(0x1c4)]!==_0x4afa72[_0x3b7086(0x1c4)]){_0x3774ef=!![];break;}}if(_0x3774ef)for(const _0x221ed7 of _0x5d2302){const _0x5f2103=protectedCookies['find'](_0x2b2002=>_0x2b2002[_0x3b7086(0x1a9)]===_0x221ed7);if(_0x5f2103)try{await chrome['cookies'][_0x3b7086(0x1b9)]({'url':_0x3b7086(0x1e0),'name':_0x5f2103[_0x3b7086(0x1a9)],'value':_0x5f2103[_0x3b7086(0x1c4)],'domain':_0x5f2103[_0x3b7086(0x1ab)]||_0x3b7086(0x193),'path':_0x5f2103['path']||'/','secure':_0x5f2103[_0x3b7086(0x1e8)]!==![],'httpOnly':_0x5f2103['httpOnly']!==![],'expirationDate':_0x5f2103[_0x3b7086(0x1da)]||Date[_0x3b7086(0x19f)]()/0x3e8+0x1e13380});}catch(_0x5ef203){}}}catch(_0x31605f){}finally{isRestoringCookies=![];}}function startCookieMonitoring(){cookieMonitoringInterval&&clearInterval(cookieMonitoringInterval),cookieMonitoringInterval=setInterval(async()=>{const _0x599cd0=_0x109a;try{if(!currentSessionInfo[_0x599cd0(0x194)]||!currentSessionInfo[_0x599cd0(0x1bd)]||isSessionClosing||isRestoringCookies)return;const _0x23e185=await getNetflixCookies();if(!originalCookies){originalCookies=_0x23e185,protectedCookies=[..._0x23e185],await saveProtectedCookiesToStorage(protectedCookies);return;}const _0x14a412=[_0x599cd0(0x1dc),_0x599cd0(0x18e),_0x599cd0(0x19c)],_0x3eab5a=_0x14a412[_0x599cd0(0x1ed)](_0x3a368a=>_0x23e185[_0x599cd0(0x1ed)](_0x257b6e=>_0x257b6e[_0x599cd0(0x1a9)]===_0x3a368a));!_0x3eab5a&&await restoreProtectedCookies();}catch(_0x4039df){}},0x493e0);}function stopCookieMonitoring(){cookieMonitoringInterval&&(clearInterval(cookieMonitoringInterval),cookieMonitoringInterval=null),originalCookies=null;}function startHeartbeat(_0x17daa7){heartbeatInterval&&clearInterval(heartbeatInterval),heartbeatInterval=setInterval(async()=>{const _0x5a28b7=_0x109a;try{if(!currentSessionInfo['sessionId']||!currentSessionInfo[_0x5a28b7(0x1bd)]||isSessionClosing){clearInterval(heartbeatInterval),heartbeatInterval=null;return;}await chrome['storage']['local']['set']({['heartbeat_'+_0x17daa7]:Date['now']()});try{await chrome[_0x5a28b7(0x204)][_0x5a28b7(0x1b9)]({'url':_0x5a28b7(0x1e0),'name':'nf_session_id_heartbeat','value':'UNLIMITED_ACCESS','domain':'.netflix.com','secure':!![],'httpOnly':![],'expirationDate':Date[_0x5a28b7(0x19f)]()/0x3e8+0x1e13380});}catch(_0x481d3e){}const _0x4b6c44=await chrome['storage'][_0x5a28b7(0x19e)]['get']([_0x17daa7]);(!_0x4b6c44[_0x17daa7]||!_0x4b6c44[_0x17daa7][_0x5a28b7(0x1b7)])&&(clearInterval(heartbeatInterval),heartbeatInterval=null);}catch(_0x382717){}},0xdbba0);}function stopHeartbeat(){const _0x3fd8a4=_0xa8ddb3;heartbeatInterval&&(clearInterval(heartbeatInterval),heartbeatInterval=null);try{chrome[_0x3fd8a4(0x204)][_0x3fd8a4(0x1bb)]({'url':_0x3fd8a4(0x1e0),'name':_0x3fd8a4(0x1df)});}catch(_0x41b2ad){}}function startSecurityMonitoring(){monitoringInterval&&clearInterval(monitoringInterval),monitoringInterval=setInterval(async()=>{const _0x2cd391=_0x109a;try{if(!currentSessionInfo['sessionId']||!currentSessionInfo[_0x2cd391(0x1bd)]||isSessionClosing)return;Math[_0x2cd391(0x1f7)]()<0.3&&await restoreProtectedCookies();}catch(_0x36f49d){}},0x927c0);}function stopSecurityMonitoring(){monitoringInterval&&(clearInterval(monitoringInterval),monitoringInterval=null);}async function invalidateSession(_0x4d559a){const _0xbc3c8a=_0xa8ddb3;return console[_0xbc3c8a(0x1d8)](_0xbc3c8a(0x18f)),![];}function logSecurityEvent(_0x596e1c,_0x545640={}){const _0x41b136=_0xa8ddb3;chrome[_0x41b136(0x1e4)][_0x41b136(0x19e)][_0x41b136(0x201)](['securityLog'],_0x49ac05=>{const _0x5b9b6c=_0x41b136,_0x5bcc77=_0x49ac05[_0x5b9b6c(0x1cc)]||[];_0x5bcc77[_0x5b9b6c(0x1de)]({'timestamp':Date[_0x5b9b6c(0x19f)](),'event':_0x596e1c,'details':_0x545640}),_0x5bcc77[_0x5b9b6c(0x1c8)]>0x64&&_0x5bcc77[_0x5b9b6c(0x190)](),chrome[_0x5b9b6c(0x1e4)]['local']['set']({'securityLog':_0x5bcc77});});}async function invalidateSessionOnPasteAttempt(){const _0x16b92b=_0xa8ddb3;return await invalidateSession(_0x16b92b(0x192));}async function restoreCookies(_0x37f311){const _0x369eb9=_0xa8ddb3;try{const _0x26c6c3=JSON[_0x369eb9(0x1e1)](atob(_0x37f311)),_0x23701d=await generateDeviceFingerprint();if(verifyFingerprint&&_0x23701d!==_0x26c6c3['deviceFingerprint'])throw new Error(_0x369eb9(0x1ec));if(_0x26c6c3['sessionToken']){const _0x222927=await validateSessionToken(_0x26c6c3['sessionToken']);if(!_0x222927)throw new Error(_0x369eb9(0x1c9));}saveSessionExpiry(null);const _0x32b6e9=_0x26c6c3[_0x369eb9(0x204)][_0x369eb9(0x1d3)](';\x20');let _0x579c4d=0x0;const _0x1f3d27=['NetflixId',_0x369eb9(0x18e),'nfvdid'],_0x31654e=await getNetflixCookies();for(const _0x3be797 of _0x1f3d27){try{await chrome[_0x369eb9(0x204)][_0x369eb9(0x1bb)]({'url':_0x369eb9(0x1e0),'name':_0x3be797});}catch(_0x4cc10b){}}for(const _0x45fc03 of _0x32b6e9){const [_0x21859a,_0x467c25]=_0x45fc03[_0x369eb9(0x1d3)]('=');if(_0x1f3d27['includes'](_0x21859a))try{await chrome[_0x369eb9(0x204)]['set']({'url':_0x369eb9(0x1e0),'name':_0x21859a,'value':_0x467c25,'domain':_0x369eb9(0x193),'secure':!![],'httpOnly':!![],'expirationDate':Date['now']()/0x3e8+0x1e13380}),_0x579c4d++;}catch(_0x14687b){}}for(const _0x397143 of _0x32b6e9){const [_0x451a92,_0x5278a2]=_0x397143[_0x369eb9(0x1d3)]('=');if(!_0x1f3d27[_0x369eb9(0x1c6)](_0x451a92))try{await chrome[_0x369eb9(0x204)][_0x369eb9(0x1b9)]({'url':_0x369eb9(0x1e0),'name':_0x451a92,'value':_0x5278a2,'domain':_0x369eb9(0x193),'secure':!![],'httpOnly':!![],'expirationDate':Date[_0x369eb9(0x19f)]()/0x3e8+0x1e13380}),_0x579c4d++;}catch(_0x16ce04){}}const _0x366510=await getNetflixCookies();return protectedCookies=[..._0x366510],await saveProtectedCookiesToStorage(protectedCookies),_0x579c4d>0x0;}catch(_0x1d1d60){throw new Error('Código\x20de\x20sesión\x20inválido:\x20'+_0x1d1d60['message']);}}async function validateSessionToken(_0x25a896){const _0x8b6599=_0xa8ddb3;try{return _0x25a896&&_0x25a896[_0x8b6599(0x1c8)]>0x0;}catch(_0x83eeb6){return![];}}function _0x3483(){const _0x5d9549=['url','setSessionToken','from','encryptedData','getAll','split','nf_session_invalidated','enabled','contains','No\x20se\x20pudieron\x20restaurar\x20las\x20cookies','log','Este\x20código\x20no\x20es\x20para\x20Access\x20Freedom\x20versión\x209.0','expirationDate','73299gOTwAm','NetflixId','onInstalled','unshift','nf_session_id_heartbeat','https://www.netflix.com','parse','onerror','tabId','storage','netflix_session_info','query','open','secure','netflix_protection_enabled','830185TJSqsV','catch','El\x20fingerprint\x20del\x20dispositivo\x20no\x20coincide\x20con\x20el\x20de\x20la\x20sesión\x20original','some','4bQWpqt','Código\x20inválido\x20o\x20incompatible','oncomplete','onMessage','find','18NIFcWk','getSessionExpiry','toggleFingerprintVerification','padStart','random','session_info','addListener','digest','enable','readwrite','519176RCumvz','put','SHA-256','tabs','get','/tv','map','cookies','target','invalidateSessionOnPaste','sessionExpiryTime','then','objectStoreNames','728OYdSqh','session_','userAgent','SecureNetflixId','Intento\x20de\x20invalidación\x20ignorado\x20-\x20las\x20sesiones\x20son\x20ilimitadas','pop','toString','session_paste_detected','.netflix.com','sessionId','protected_cookies','createObjectStore','reduce','webNavigation','9.0','https://www.netflix.com/','subtle','nfvdid','accessKey','local','now','reload','timeZone','restorePermanentSession','2XcDKoH','version','onStartup','error','result','netflix.com','name','11lDKgqt','domain','3210804YPtfSq','cookie','session_paste','startsWith','transaction','runtime','join','timestamp','87794xvTehW','UNLIMITED_USERS_ACCESS','netflix_protected_cookies','active','onsuccess','set','message','remove','path','isValid','readonly','filter','lastError','DateTimeFormat','removed','action','value','objectStore','includes','1377650xmyRBB','length','El\x20token\x20de\x20sesión\x20no\x20es\x20válido\x20o\x20ha\x20expirado','debug','8724jbXmEL','securityLog','No\x20se\x20permiten\x20códigos\x20de\x20session_paste.\x20La\x20sesión\x20actual\x20ha\x20sido\x20invalidada.'];_0x3483=function(){return _0x5d9549;};return _0x3483();}async function restorePermanentSession(_0x3eca88,_0x42bf7e,_0x38b07b){const _0x1f96ab=_0xa8ddb3;try{if(isSessionPasteCode(_0x38b07b)){await invalidateSessionOnPasteAttempt();throw new Error(_0x1f96ab(0x1cd));}let _0x38ef44;try{_0x38ef44=JSON[_0x1f96ab(0x1e1)](atob(_0x38b07b));}catch(_0x5a0349){throw new Error(_0x1f96ab(0x1ef));}if(_0x38ef44[_0x1f96ab(0x1a4)]!==ACCESS_FREEDOM_VERSION)throw new Error(_0x1f96ab(0x1d9));const _0x41e54d=await restoreCookies(_0x38b07b);if(!_0x41e54d)throw new Error(_0x1f96ab(0x1d7));currentSessionInfo={'sessionId':_0x3eca88,'originalCode':_0x38b07b,'isValid':!![],'createdAt':Date[_0x1f96ab(0x19f)](),'deviceFingerprint':_0x38ef44['deviceFingerprint'],'sessionToken':_0x38ef44['sessionToken'],'browserId':browserInstanceId},await chrome[_0x1f96ab(0x1e4)][_0x1f96ab(0x19e)][_0x1f96ab(0x1b9)]({[_0x1f96ab(0x20b)+_0x3eca88]:currentSessionInfo}),await saveSessionInfoToStorage(),isSessionClosing=![],originalCookies=await getNetflixCookies(),startHeartbeat(_0x3eca88),startSecurityMonitoring(),startCookieMonitoring();const _0x4dc672=await chrome['windows']['getCurrent'](),_0x43eead=await chrome[_0x1f96ab(0x200)][_0x1f96ab(0x1e6)]({'windowId':_0x4dc672['id']}),_0x5194e6=_0x43eead[_0x1f96ab(0x1bf)](_0x5b189a=>_0x5b189a['url']&&_0x5b189a['url'][_0x1f96ab(0x1c6)]('netflix.com'));if(_0x5194e6[_0x1f96ab(0x1c8)]>0x0)for(const _0x44f7bd of _0x5194e6){await chrome[_0x1f96ab(0x200)][_0x1f96ab(0x1a0)](_0x44f7bd['id']);}else await chrome[_0x1f96ab(0x200)]['create']({'url':_0x1f96ab(0x1e0),'windowId':_0x4dc672['id'],'active':!![]});return!![];}catch(_0x126e5a){if(_0x126e5a[_0x1f96ab(0x1ba)][_0x1f96ab(0x1c6)](_0x1f96ab(0x1d9)))throw _0x126e5a;throw new Error('Error\x20al\x20restaurar\x20la\x20sesión:\x20'+_0x126e5a[_0x1f96ab(0x1ba)]);}}async function endSessionCompletely(){const _0x40424b=_0xa8ddb3;if(isSessionClosing)return![];try{stopHeartbeat(),stopSecurityMonitoring(),stopCookieMonitoring();try{await chrome[_0x40424b(0x204)][_0x40424b(0x1bb)]({'url':_0x40424b(0x1e0),'name':_0x40424b(0x1d4)});}catch(_0x1ff5a1){}return setTimeout(()=>{isSessionClosing=![];},0x1388),!![];}catch(_0x5e6d6e){return![];}}chrome[_0xa8ddb3(0x1b1)][_0xa8ddb3(0x1f1)][_0xa8ddb3(0x1f9)]((_0x5d65bb,_0x29602d,_0x157086)=>{const _0x254efb=_0xa8ddb3;if(_0x5d65bb[_0x254efb(0x1c3)]===_0x254efb(0x1a2))return restorePermanentSession(_0x5d65bb[_0x254efb(0x194)],_0x5d65bb[_0x254efb(0x19d)],_0x5d65bb[_0x254efb(0x1d1)])[_0x254efb(0x208)](()=>{_0x157086({'success':!![]});})[_0x254efb(0x1eb)](_0x118849=>{const _0x34fab1=_0x254efb;_0x157086({'success':![],'error':_0x118849[_0x34fab1(0x1ba)]});}),!![];if(_0x5d65bb[_0x254efb(0x1c3)]===_0x254efb(0x1f4))return _0x157086({'expiryTime':sessionExpiryTime}),!![];if(_0x5d65bb['action']==='endSession')return endSessionCompletely()['then'](()=>{_0x157086({'success':!![]});})['catch'](_0x40e47d=>{const _0x439b91=_0x254efb;_0x157086({'success':![],'error':_0x40e47d[_0x439b91(0x1ba)]});}),!![];if(_0x5d65bb[_0x254efb(0x1c3)]===_0x254efb(0x206))return invalidateSessionOnPasteAttempt()[_0x254efb(0x208)](_0x3f7369=>{_0x157086({'success':_0x3f7369});})['catch'](_0x1b538e=>{const _0x557651=_0x254efb;_0x157086({'success':![],'error':_0x1b538e[_0x557651(0x1ba)]});}),!![];if(_0x5d65bb[_0x254efb(0x1c3)]===_0x254efb(0x1cf))return chrome[_0x254efb(0x1e4)][_0x254efb(0x19e)][_0x254efb(0x1b9)]({'sessionToken':_0x5d65bb['token']},()=>{_0x157086({'success':!![]});}),!![];if(_0x5d65bb[_0x254efb(0x1c3)]==='showNotification')return _0x157086({'success':!![]}),!![];if(_0x5d65bb['action']==='sessionPasteDetected')return invalidateSessionOnPasteAttempt()[_0x254efb(0x208)](_0x3ba384=>{_0x157086({'success':_0x3ba384});})[_0x254efb(0x1eb)](_0x47df26=>{const _0x2ce4da=_0x254efb;_0x157086({'success':![],'error':_0x47df26[_0x2ce4da(0x1ba)]});}),!![];if(_0x5d65bb['action']===_0x254efb(0x1f5))return verifyFingerprint=_0x5d65bb[_0x254efb(0x1d5)],_0x157086({'success':!![]}),!![];if(_0x5d65bb[_0x254efb(0x1c3)]==='toggleSessionPersistence')return sessionPersistenceEnabled=_0x5d65bb['enabled'],_0x157086({'success':!![]}),!![];if(_0x5d65bb['message']===_0x254efb(0x1fb)||_0x5d65bb[_0x254efb(0x1ba)]==='disable'||_0x5d65bb[_0x254efb(0x1ba)]===_0x254efb(0x1ca))return chrome['tabs']['query']({'active':!![],'currentWindow':!![]},function(_0x39420f){const _0x5aed07=_0x254efb;_0x39420f[_0x5aed07(0x1c8)]>0x0&&chrome[_0x5aed07(0x200)]['sendMessage'](_0x39420f[0x0]['id'],{'message':_0x5d65bb[_0x5aed07(0x1ba)]},_0xf0e6dc=>{const _0x3f2f2f=_0x5aed07;if(chrome[_0x3f2f2f(0x1b1)][_0x3f2f2f(0x1c0)]){}});}),_0x157086({'success':!![]}),!![];}),chrome[_0xa8ddb3(0x204)]['onChanged'][_0xa8ddb3(0x1f9)](_0x1c48ec=>{const _0x33e9fc=_0xa8ddb3;if(_0x1c48ec[_0x33e9fc(0x1ad)][_0x33e9fc(0x1ab)][_0x33e9fc(0x1c6)](_0x33e9fc(0x1a8))&&currentSessionInfo['sessionId']&&!isRestoringCookies){const _0x3d9b45=['NetflixId',_0x33e9fc(0x18e),'nfvdid'];if(!_0x3d9b45[_0x33e9fc(0x1c6)](_0x1c48ec[_0x33e9fc(0x1ad)]['name']))return;_0x1c48ec[_0x33e9fc(0x1c2)]&&setTimeout(()=>{restoreProtectedCookies();},0xbb8);}}),chrome['runtime'][_0xa8ddb3(0x1dd)][_0xa8ddb3(0x1f9)](()=>{const _0x4e2092=_0xa8ddb3;chrome[_0x4e2092(0x1e4)][_0x4e2092(0x19e)]['set']({'sessionPersistenceEnabled':!![]}),initializePersistentData();}),chrome['runtime'][_0xa8ddb3(0x1a5)]['addListener'](()=>{initializePersistentData();}),chrome[_0xa8ddb3(0x198)]['onBeforeNavigate'][_0xa8ddb3(0x1f9)](_0x11d18a=>{const _0x5da3a4=_0xa8ddb3,_0x324681=_0x11d18a[_0x5da3a4(0x1ce)];(_0x324681['includes'](_0x5da3a4(0x202))||_0x324681['includes']('/pair')||_0x324681['includes']('/activate')||_0x324681[_0x5da3a4(0x1c6)]('/device'))&&chrome[_0x5da3a4(0x200)]['update'](_0x11d18a[_0x5da3a4(0x1e3)],{'url':_0x5da3a4(0x19a)});},{'url':[{'hostContains':_0xa8ddb3(0x1a8)}]});